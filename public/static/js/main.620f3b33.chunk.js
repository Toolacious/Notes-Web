(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{331:function(e,t,n){},333:function(e,t,n){},801:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),i=n.n(r),o=n(21),c=n.n(o),s=(n(331),n(19)),l=n.n(s),A=n(30),d=n(9),u=(n(333),n(26)),p=n(866),j=n(847),b=n(843),m=n(860),h=n(845),x=n(864),O=n(44),g=n(848),f=n(861),v=n(154),w=n.n(v),y=n(104),S=n(841),C=n(842),F=n(158),k=n(54),N=n(24),E=n(23),B=n(100),T=n.n(B);function I(){const e=Object(E.a)(["\n    mutation login($email: String!, $password: String!) {\n        login(data: { email: $email, password: $password }) {\n            userId\n            name\n            email\n            accessToken\n        }\n    }\n"]);return I=function(){return e},e}const R=T()(I());var U=n(14),D=n(99),W=n.n(D);let q="";const G=e=>{q=e},K=()=>q,Q={user:null};if(K()){const e=W()(K());Q.user=e}const M=Object(r.createContext)({user:null,login:e=>{},logout:()=>{}});function L(e,t){switch(t.type){case"LOGIN":return Object(U.a)(Object(U.a)({},e),{},{user:t.payload});case"LOGOUT":return Object(U.a)(Object(U.a)({},e),{},{user:null});default:return e}}function V(e){const t=Object(r.useReducer)(L,Q),n=Object(d.a)(t,2),i=n[0],o=n[1];return Object(a.jsx)(M.Provider,Object(U.a)({value:{user:i.user,login:function(e){o({type:"LOGIN",payload:e})},logout:function(){o({type:"LOGOUT"})}}},e))}function P(){return Object(a.jsxs)(y.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(a.jsx)(O.b,{color:"inherit",to:"https://material-ui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}const Y=Object(S.a)((e=>({paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}})));function Z(){const e=Object(r.useContext)(M),t=Y(),n=Object(N.a)(R),i=Object(d.a)(n,2),o=i[0],c=i[1],s=c.loading,v=c.error,S=Object(r.useState)(""),E=Object(d.a)(S,2),B=E[0],T=E[1],I=Object(u.g)(),U=k.a({email:k.c("Enter your email").email("Enter a valid email").required("Email is required"),password:k.c("").min(6,"Password must contain at least 6 characters").required("Enter your password")}),D=Object(F.a)({initialValues:{email:"",password:""},validationSchema:U,onSubmit:function(){var t=Object(A.a)(l.a.mark((function t(n){var a,r,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=n.email,r=n.password,t.next=4,o({variables:{email:a,password:r}});case 4:i=t.sent,v||s||console.log("redirect"),i&&i.data&&(console.log("response"),console.log(i.data),G(i.data.login.accessToken)),e.login(i.data.login),I.push("/dashboard"),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0.message),T(t.t0.message.slice(15));case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()});return Object(a.jsxs)(C.a,{component:"main",maxWidth:"xs",children:[Object(a.jsx)(b.a,{}),Object(a.jsxs)("div",{className:t.paper,children:[Object(a.jsx)(p.a,{className:t.avatar,children:Object(a.jsx)(w.a,{})}),Object(a.jsx)(y.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(a.jsxs)("form",{className:t.form,onSubmit:D.handleSubmit,noValidate:!0,children:[Object(a.jsx)(m.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,value:D.values.email,onChange:D.handleChange,error:D.touched.email&&Boolean(D.errors.email)||"E"===B[0],helperText:D.touched.email&&D.errors.email||("E"===B[0]?B:null)}),Object(a.jsx)(m.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:D.handleChange,error:D.touched.password&&Boolean(D.errors.password)||"P"===B[0],helperText:D.touched.password&&D.errors.password||("P"===B[0]?B:null)}),Object(a.jsx)(h.a,{control:Object(a.jsx)(x.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(a.jsx)(j.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,disabled:D.isSubmitting,children:"Sign In"}),Object(a.jsxs)(g.a,{container:!0,children:[Object(a.jsx)(g.a,{item:!0,xs:!0,children:Object(a.jsx)(O.b,{to:"#",variant:"body2",children:"Forgot password?"})}),Object(a.jsx)(g.a,{item:!0,children:Object(a.jsx)(O.b,{to:"/signup",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})]}),Object(a.jsx)(f.a,{mt:8,children:Object(a.jsx)(P,{})})]})}function X(){const e=Object(E.a)(["\n    mutation createUser(\n        $fname: String!\n        $lname: String!\n        $name: String!\n        $email: String!\n        $password: String!\n    ) {\n        createUser(\n            data: {\n                fname: $fname\n                lname: $lname\n                name: $name\n                email: $email\n                password: $password\n            }\n        ) {\n            id\n            name\n            password\n        }\n    }\n"]);return X=function(){return e},e}const J=T()(X());function z(){return Object(a.jsxs)(y.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(a.jsx)(O.b,{color:"inherit",to:"https://material-ui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}const H=Object(S.a)((e=>({paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}})));function $(){const e=Object(r.useContext)(M),t=k.a({fname:k.c("Enter your first name").min(2,"Fist name should be of minimum 2 characters length").max(50).required("First name is required"),lname:k.c("Enter your last name").min(2,"Fist name should be of minimum 2 characters length").required("Last name is required"),name:k.c("Enter a name").min(6,"Username should be of minimum 6 characters length").required("Name is required"),email:k.c("Enter your email").email("Enter a valid email").required("Email is required"),password:k.c("").min(6,"Password must contain at least 6 characters").required("Enter your password"),confirmPassword:k.c("Enter your password").required("Confirm your password").oneOf([k.b("password")],"Password does not match")}),n=Object(u.g)(),i=Object(N.a)(J),o=Object(d.a)(i,1)[0],c=Object(r.useState)(""),s=Object(d.a)(c,2),v=s[0],S=s[1],E=Object(N.a)(R),B=Object(d.a)(E,2),T=B[0],I=B[1].loading,U=H(),D=Object(F.a)({initialValues:{fname:"",lname:"",name:"",email:"",password:"",confirmPassword:""},validationSchema:t,onSubmit:function(){var t=Object(A.a)(l.a.mark((function t(a){var r,i,c,s,A,d;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=a.fname,i=a.lname,c=a.name,s=a.email,A=a.password,t.next=4,o({variables:{fname:r,lname:i,name:c,email:s,password:A}});case 4:return t.next=6,T({variables:{email:s,password:A}});case 6:d=t.sent,I||console.log("redirect"),d&&d.data&&(console.log("response"),console.log(d.data),G(d.data.login.accessToken)),e.login(d.data.login),n.push("/dashboard"),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0.message),S(t.t0.message.slice(15));case 17:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()});return Object(a.jsxs)(C.a,{component:"main",maxWidth:"xs",children:[Object(a.jsx)(b.a,{}),Object(a.jsxs)("div",{className:U.paper,children:[Object(a.jsx)(p.a,{className:U.avatar,children:Object(a.jsx)(w.a,{})}),Object(a.jsx)(y.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(a.jsxs)("form",{className:U.form,onSubmit:D.handleSubmit,noValidate:!0,children:[Object(a.jsxs)(g.a,{container:!0,spacing:2,children:[Object(a.jsx)(g.a,{item:!0,xs:12,sm:6,children:Object(a.jsx)(m.a,{autoComplete:"fname",name:"fname",variant:"outlined",required:!0,fullWidth:!0,id:"fname",label:"First name",autoFocus:!0,value:D.values.fname,onChange:D.handleChange,error:D.touched.fname&&Boolean(D.errors.fname),helperText:D.touched.fname&&D.errors.fname})}),Object(a.jsx)(g.a,{item:!0,xs:12,sm:6,children:Object(a.jsx)(m.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lname",label:"Last name",name:"lname",autoComplete:"lname",value:D.values.lname,onChange:D.handleChange,error:D.touched.lname&&Boolean(D.errors.lname),helperText:D.touched.lname&&D.errors.lname})}),Object(a.jsx)(g.a,{item:!0,xs:12,children:Object(a.jsx)(m.a,{autoComplete:"username",name:"name",variant:"outlined",required:!0,fullWidth:!0,id:"name",label:"Username",autoFocus:!0,value:D.values.name,onChange:D.handleChange,error:D.touched.name&&Boolean(D.errors.name),helperText:D.touched.name&&D.errors.name})}),Object(a.jsx)(g.a,{item:!0,xs:12,children:Object(a.jsx)(m.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:D.values.email,onChange:D.handleChange,error:D.touched.email&&Boolean(D.errors.email)||""!==v,helperText:D.touched.email&&D.errors.email||v})}),Object(a.jsx)(g.a,{item:!0,xs:12,children:Object(a.jsx)(m.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:D.handleChange,error:D.touched.password&&Boolean(D.errors.password),helperText:D.touched.password&&D.errors.password})}),Object(a.jsx)(g.a,{item:!0,xs:12,children:Object(a.jsx)(m.a,{variant:"outlined",required:!0,fullWidth:!0,name:"confirmPassword",label:"Confirm Password",type:"password",id:"confirmPassword",autoComplete:"current-password",onChange:D.handleChange,error:D.touched.confirmPassword&&Boolean(D.errors.confirmPassword),helperText:D.touched.confirmPassword&&D.errors.confirmPassword})}),Object(a.jsx)(g.a,{item:!0,xs:12,children:Object(a.jsx)(h.a,{control:Object(a.jsx)(x.a,{value:"allowExtraEmails",color:"primary"}),label:"I want to receive inspiration, marketing promotions and updates via email."})})]}),Object(a.jsx)(j.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:U.submit,disabled:D.isSubmitting,children:"Sign Up"}),Object(a.jsx)(g.a,{container:!0,justify:"flex-end",children:Object(a.jsx)(g.a,{item:!0,children:Object(a.jsx)(O.b,{to:"/login",variant:"body2",children:"Already have an account? Sign in"})})})]})]}),Object(a.jsx)(f.a,{mt:5,children:Object(a.jsx)(z,{})})]})}var _=n(159);var ee=function(e){let t=e.component,n=Object(_.a)(e,["component"]);const i=Object(r.useContext)(M).user;return Object(a.jsx)(u.b,Object(U.a)(Object(U.a)({},n),{},{render:e=>i?Object(a.jsx)(u.a,{to:"/dashboard"}):Object(a.jsx)(t,Object(U.a)({},e))}))};var te=function(e){let t=e.component,n=Object(_.a)(e,["component"]);const i=Object(r.useContext)(M).user;return Object(a.jsx)(u.b,Object(U.a)(Object(U.a)({},n),{},{render:e=>i?Object(a.jsx)(t,Object(U.a)({},e)):Object(a.jsx)(u.a,{to:"/"})}))},ne=n(854),ae=n(846),re=n(281),ie=n.n(re),oe=n(6),ce=n(304),se=n(849);const le=Object(S.a)((e=>({menubarButton:{fontSize:"14px",paddingTop:"0px",paddingBottom:"0px",paddingLeft:e.spacing(1),paddingRight:e.spacing(1),flexShrink:0,textTransform:"none"},menuItem:{fontSize:"14px",width:"128px"},disabledMenuItem:{cursor:"default",color:"rgb(180, 180, 180)!important",backgroundColor:"white!important"}})));function Ae(e){const t=le(),n=e.menu,r=n.name,o=n.sections,c=i.a.useState(null),s=Object(d.a)(c,2),l=s[0],A=s[1];return Object(a.jsxs)("div",{children:[Object(a.jsx)(j.a,{className:t.menubarButton,"aria-controls":"name","aria-haspopup":"true",onClick:e=>{A(e.currentTarget)},onKeyDown:e=>{"Enter"===e.key&&e.preventDefault()},children:r}),Object(a.jsx)(ce.a,{id:"name",anchorEl:l,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},keepMounted:!0,open:Boolean(l),onClose:()=>{A(null)},children:o.map((e=>Object(a.jsx)(se.a,{className:Object(oe.a)(t.menuItem,{[t.disabledMenuItem]:"Save"===e.name&&!document.getElementById("saveMain")}),onClick:()=>{e.func(),A(null)},children:e.name})))})]})}var de=n(852),ue=n(851);function pe(){const e=Object(E.a)(["\n    mutation {\n        logout\n    }\n"]);return pe=function(){return e},e}const je=T()(pe());var be=n(280),me=n.n(be);n(441);function he(){const e=Object(E.a)(["\n    mutation upload($id: String!, $picture: String!) {\n        upload(id: $id, picture: $picture)\n    }\n"]);return he=function(){return e},e}const xe=T()(he());var Oe=n(850);const ge=Object(r.createContext)({avatar:String,setAvatar:()=>{}});function fe(){return(fe=Object(A.a)(l.a.mark((function e(t,n,a,r,i){var o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n&&t){e.next=3;break}return e.abrupt("return");case 3:return o=t.toDataURL("image/png"),e.next=6,a({variables:{id:r,picture:o}});case 6:i(o),e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}const ve=Object(S.a)((e=>({avatar:{height:"128px",width:"128px"},headerAvatar:{height:"48px",width:"48px",marginLeft:e.spacing(1),marginRight:e.spacing(1)},headerAvatarWrapper:{display:"flex",justifyContent:"center",alignItems:"center"},avatarWrapper:{display:"flex",justifyContent:"center",alignItems:"center",marginBottom:e.spacing(3)},dialogButton:{width:"50%",fontSize:"18px",textTransform:"none"},dialog:{},input:{display:"none"}})));function we(){var e,t;const n=Object(r.useContext)(M).user.userId,i=Object(r.useContext)(ge).setAvatar,o=ve(),c=Object(N.a)(xe),s=Object(d.a)(c,1)[0],l=Object(r.useState)(),A=Object(d.a)(l,2),u=A[0],p=A[1],b=Object(r.useRef)(null),m=Object(r.useRef)(null),h=Object(r.useState)({width:50,height:50,aspect:1}),x=Object(d.a)(h,2),O=x[0],g=x[1],f=Object(r.useState)(null),v=Object(d.a)(f,2),w=v[0],y=v[1],S=Object(r.useCallback)((e=>{b.current=e}),[]);return Object(r.useEffect)((()=>{if(!w||!m.current||!b.current)return;const e=b.current,t=m.current,n=w,a=e.naturalWidth/e.width,r=e.naturalHeight/e.height,i=t.getContext("2d"),o=window.devicePixelRatio;t.width=n.width*o,t.height=n.height*o,i.setTransform(o,0,0,o,0,0),i.imageSmoothingQuality="high",i.drawImage(e,n.x*a,n.y*r,n.width*a,n.height*r,0,0,n.width,n.height)}),[w]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{style:{height:"60vh",width:"60vw"},children:[Object(a.jsx)(me.a,{src:u,onImageLoaded:S,crop:O,onChange:e=>g(e),onComplete:e=>y(e),circularCrop:!0}),Object(a.jsx)("div",{children:Object(a.jsx)("canvas",{ref:m,style:{width:Math.round(null!==(e=null===w||void 0===w?void 0:w.width)&&void 0!==e?e:0),height:Math.round(null!==(t=null===w||void 0===w?void 0:w.height)&&void 0!==t?t:0),display:"none"}})})]}),Object(a.jsxs)(Oe.a,{children:[Object(a.jsx)("input",{accept:"image/*",className:o.input,id:"contained-button-file",type:"file",onChange:e=>{if(e.target.files&&e.target.files.length>0){const t=new FileReader;t.addEventListener("load",(()=>p(t.result))),t.readAsDataURL(e.target.files[0])}}}),Object(a.jsx)("label",{htmlFor:"contained-button-file",children:Object(a.jsx)(j.a,{className:o.dialogButton,onClick:()=>{},color:"primary",component:"span",children:"Upload"})}),Object(a.jsx)(j.a,{className:o.dialogButton,disabled:!(null===w||void 0===w?void 0:w.width)||!(null===w||void 0===w?void 0:w.height),onClick:()=>function(e,t,n,a,r){return fe.apply(this,arguments)}(m.current,w,s,n,i),color:"primary",children:"Save"})]})]})}const ye=Object(S.a)((e=>({avatar:{height:"128px",width:"128px"},headerAvatar:{height:"48px",width:"48px",marginLeft:e.spacing(1),marginRight:e.spacing(1)},headerAvatarWrapper:{display:"flex",justifyContent:"center",alignItems:"center"},avatarWrapper:{display:"flex",justifyContent:"center",alignItems:"center",marginBottom:e.spacing(3)},dialogButton:{width:"50%",fontSize:"18px",textTransform:"none"},dialog:{}})));function Se(e){ye();const t=e.onClose,n=e.open;return Object(a.jsxs)(ue.a,{maxWidth:"xl",open:n,onClose:t,"aria-labelledby":"avatarUpload",children:[Object(a.jsx)(de.a,{id:"avatarUpload",children:"Upload Avatar"}),Object(a.jsx)(we,{})]})}const Ce=Object(S.a)((e=>({avatar:{height:"128px",width:"128px"},headerAvatar:{height:"48px",width:"48px",marginLeft:e.spacing(1),marginRight:e.spacing(1)},headerAvatarWrapper:{display:"flex",justifyContent:"center",alignItems:"center"},avatarWrapper:{display:"flex",justifyContent:"center",alignItems:"center",marginBottom:e.spacing(3)},dialogButton:{width:"256px",fontSize:"18px",textTransform:"none"},dialog:{}})));function Fe(e){const t=Ce(),n=Object(r.useContext)(M),i=Object(u.g)(),o=Object(N.a)(je),c=Object(d.a)(o,1)[0],s=e.onClose,p=e.onOpen,b=e.selectedValue,m=e.open,h=e.avatar_src;return Object(a.jsxs)(ue.a,{className:t.dialog,onClose:()=>{s(b)},"aria-labelledby":"account-dialog-title",open:m,children:[Object(a.jsx)(de.a,{id:"account-dialog-title",children:"Account"}),Object(a.jsx)("div",{className:t.avatarWrapper,children:Object(a.jsx)("img",{className:t.avatar,src:h,alt:"avatar"})}),Object(a.jsx)(j.a,{onClick:p,className:t.dialogButton,children:"Change avatar"}),Object(a.jsx)(j.a,{className:t.dialogButton,onClick:function(){var e=Object(A.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,c();case 3:G(""),K()||(i.push("/"),n.logout());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:"Log out"})]})}function ke(e){const t=Ce(),n=i.a.useState(!1),r=Object(d.a)(n,2),o=r[0],c=r[1],s=i.a.useState(!1),l=Object(d.a)(s,2),A=l[0],u=l[1],p=i.a.useState(0),j=Object(d.a)(p,2),b=j[0],m=j[1],h=()=>{c(!0)},x=e=>{c(!1),m(e)};return Object(a.jsxs)("div",{className:t.headerAvatarWrapper,children:[Object(a.jsx)("img",{className:t.headerAvatar,src:e.src,alt:"#",onClick:h}),Object(a.jsx)(Fe,{selectedValue:b,open:o,onClose:x,onOpen:()=>{x(),u(!0)},avatar_src:e.src}),Object(a.jsx)(Se,{open:A,onClose:()=>{u(!1),h()}})]})}const Ne=Object(r.createContext)({usernotes:[],openFiles:[],currentOpenFile:"",setcurrentOpenFile:e=>{},setuserNotes:e=>{},setopenFiles:e=>{},actions:null});var Ee=n(853);const Be=Object(S.a)((()=>({dialogButton:{width:"256px",fontSize:"18px",textTransform:"none"},dialog:{}})));function Te(e){Be();const t=Object(r.useContext)(Ne),n=t.usernotes,o=t.actions,c=i.a.useState(""),s=Object(d.a)(c,2),l=s[0],A=s[1],u=i.a.useState(!0),p=Object(d.a)(u,2),b=p[0],h=p[1],x=i.a.useState(""),O=Object(d.a)(x,2),g=O[0],f=O[1],v=()=>l?-1!==n.findIndex((e=>e.title===l))?(h(!1),void f("name existed!")):(o.new(l),void e.closeFunc()):(h(!1),void f("empty name!"));return Object(a.jsxs)(ue.a,{open:!0,"aria-labelledby":"name-dialog-title",children:[Object(a.jsx)(de.a,{id:"name-dialog-title",children:"File name"}),Object(a.jsx)(Ee.a,{children:Object(a.jsx)(m.a,{autoFocus:!0,error:!b,helperText:b?"":g,margin:"dense",id:"createBox",label:"new name",fullWidth:!0,onChange:e=>{return t=e.target.value,A(t),void h(!0);var t},onKeyDown:e=>{e.preventDefault(),"Enter"===e.key&&v()}})}),Object(a.jsxs)(Oe.a,{children:[Object(a.jsx)(j.a,{onClick:e.closeFunc,color:"primary",children:"Cancel"}),Object(a.jsx)(j.a,{onClick:v,color:"primary",children:"OK"})]})]})}var Ie=n.p+"static/media/icon.820aa80a.jpg";const Re=Object(S.a)((e=>({headerWrapper:{display:"flex",flexDirection:"row",alignItems:"center",flexWrap:"nowrap",borderBottom:"1px solid ".concat(e.palette.divider),zIndex:e.zIndex.drawer+1},icon:{height:"48px",width:"48px",marginLeft:e.spacing(1),marginRight:e.spacing(1)},mainWrapper:{display:"flex",flexDirection:"column",flexGrow:1},titlebar:{fontSize:"20px",height:"32px",margin:e.spacing(1),border:"1px transparent"},menubar:{minHeight:"0px",padding:"0px",overflowX:"auto"}})));function Ue(){const e=Re(),t=i.a.useState(!1),n=Object(d.a)(t,2),o=n[0],c=n[1],s=Object(r.useContext)(ge).avatar,l={name:"File",sections:[{name:"New",func:()=>{c(!0)}},{name:"Save",func:()=>{let e=document.getElementById("saveMain");e&&e.click()}}]};return Object(a.jsx)(i.a.Fragment,{children:Object(a.jsxs)(f.a,{className:e.headerWrapper,children:[Object(a.jsx)("img",{className:e.icon,src:Ie,alt:"#"}),Object(a.jsxs)(f.a,{className:e.mainWrapper,children:[Object(a.jsx)("input",{className:e.titlebar,defaultValue:"Welcome to AAA"}),Object(a.jsxs)(ne.a,{component:"nav",variant:"dense",className:e.menubar,children:[Object(a.jsx)(Ae,{menu:l}),o?Object(a.jsx)(Te,{closeFunc:()=>{c(!1)}}):null]})]}),Object(a.jsx)(ae.a,{children:Object(a.jsx)(ie.a,{fontSize:"large"})}),Object(a.jsx)(ke,{src:s||"data:image/png;base64,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"})]})})}var De=n(50),We=n(804),qe=n(856),Ge=n(867),Ke=n(289),Qe=n.n(Ke),Me=n(288),Le=n.n(Me),Ve=n(290),Pe=n.n(Ve);const Ye=Object(S.a)((e=>({dialogButton:{width:"128px",fontSize:"18px",textTransform:"none"},dialog:{}})));function Ze(e){const t=Ye(),n=e.func,r=n.updFunc,i=n.closeFunc;return Object(a.jsxs)(ue.a,{open:!0,"aria-labelledby":"save-dialog-title",children:[Object(a.jsx)(de.a,{id:"save-dialog-title",children:"Save File?"}),Object(a.jsxs)(Oe.a,{children:[Object(a.jsx)(j.a,{className:t.dialogButton,onClick:r,color:"primary",children:"Yes"}),Object(a.jsx)(j.a,{className:t.dialogButton,onClick:i,color:"primary",children:"No"})]})]})}var Xe=n(282),Je=n.n(Xe),ze=n(283),He=n.n(ze),$e=n(197),_e=n(862),et=n(855),tt=n(284),nt=n.n(tt);n(547);var at=e=>Object(a.jsx)(Je.a,Object(U.a)({},(e=>Object(U.a)(Object(U.a)({},e),{},{escapeHtml:!1,plugins:[[nt.a,{singleTilde:!1}],He.a],renderers:Object(U.a)(Object(U.a)({},e.renderers),{},{code:({language:e,value:t})=>t?Object(a.jsx)(_e.a,{style:et.a,language:e,children:t}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(a.Fragment,{children:"~~~"+e}),Object(a.jsx)("br",{}),Object(a.jsx)(a.Fragment,{children:"~~~"})]}),math:({value:e})=>Object(a.jsx)($e.BlockMath,{children:e}),inlineMath:({value:e})=>Object(a.jsx)($e.InlineMath,{children:e})})}))(e)));function rt(){const e=Object(E.a)(["\n    mutation updateNote(\n        $id: String!\n        $email: String!\n        $title: String\n        $markdown: String\n        $tags: [String]\n        $links: [String]\n    ) {\n        updateNote(\n            data: {\n                id: $id\n                email: $email\n                title: $title\n                markdown: $markdown\n                tags: $tags\n                links: $links\n            }\n        )\n    }\n"]);return rt=function(){return e},e}const it=T()(rt()),ot=Object(S.a)((e=>({root:{display:"flex",flexDirection:"column",flexGrow:1},pageBar:{display:"flex",flexWrap:"wrap",alignItems:"center",listStyle:"none",margin:0,height:24,overflowY:"auto",backgroundColor:"#E0E0E0"},chip:{margin:"0px",borderRadius:"0px",borderRight:"2px solid ".concat(e.palette.divider),borderBottom:"1px solid ".concat(e.palette.divider)},chipRoot:{transform:"none","&:focus":{backgroundColor:"white"},"&:hover":{backgroundColor:e.palette.action.hover}},chipText:{width:e.spacing(12),textAlign:"left",overflow:"hidden",textOverflow:"ellipsis"},chipFocus:{backgroundColor:"white",borderBottom:"1px solid white!important","&:hover":{backgroundColor:"white"}},markdown:{padding:e.spacing(3,0)},mainWindowWrapper:{display:"flex",flexGrow:1,position:"relative"},mainWindow:{display:"flex",width:"50%",borderRadius:"0px",overflow:"auto"},viewWindow:{display:"flex",width:"50%",borderRadius:"0px",overflow:"auto"},modeButtonWrapper:{display:"flex",position:"absolute",top:"6px",right:"6px",borderRadius:"16px",border:"1px solid black"},nopad:{padding:"0px",margin:"0px 3px"},inputStyle:{width:"100%",height:"calc(100vh - 130px)",fontSize:"18px",padding:e.spacing(2,4),resize:"none",border:"none",outline:"none",overflow:"auto"},outputStyle:{width:"100%",height:"calc(100vh - 130px)",fontSize:"18px",textAlign:"left",backgroundColor:"white",padding:e.spacing(2,4),overflow:"auto"}})));function ct(){const e=Object(N.a)(it),t=Object(d.a)(e,1)[0],n=Object(r.useContext)(M).user.email,o=ot(),c=Object(De.a)(),s=Object(r.useContext)(Ne),u=s.usernotes,p=s.openFiles,j=s.currentOpenFile,m=s.actions,h=i.a.useState("main"),x=Object(d.a)(h,2),O=x[0],g=x[1],f=i.a.useState(0),v=Object(d.a)(f,2),w=v[0],y=v[1],S=i.a.useState([]),C=Object(d.a)(S,2),F=C[0],k=C[1],E=i.a.useState(!1),B=Object(d.a)(E,2),T=B[0],I=B[1],R=i.a.useState({}),U=Object(d.a)(R,2),D=U[0],W=U[1];Object(r.useEffect)((()=>{if(p.length>w){let e=p[p.length-1],t=Object.assign({unsaved:!1},u.find((t=>t.id===e)));console.log(t),(e=>{k([...F,e]),y(w+1),console.log(F)})(t)}}),[p]);const q=e=>{let t=p.indexOf(e);F[t].unsaved?(I(!0),W({updFunc:function(){var t=Object(A.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q(e);case 2:G(e),I(!1);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),closeFunc:()=>{G(e),I(!1)}})):G(e)},G=e=>{let t=p.indexOf(e);m.close(e);let n=F.filter(((e,n)=>n!==t));k(n),y(w-1)},K=e=>{g(e)},Q=function(){var e=Object(A.a)(l.a.mark((function e(a){var r,i,o,c,s,A,d,u,j,b,h;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=p.indexOf(a),i=F[r],o=i.id,c=i.title,s=i.markdown,A=i.tags,!i.unsaved){e.next=20;break}for(e.prev=3,d=/\[\[(\w*?)\]\]/gm,u=s,b=[];null!==(j=d.exec(u));)j.index===d.lastIndex&&d.lastIndex++,j.forEach(((e,t)=>{console.log("Found match, group ".concat(t,": ").concat(e)),1===t&&b.push(e)}));return(h=[...F])[r].links=b,m.save(a,{id:o,title:c,markdown:s,tags:A,links:b}),h[r].unsaved=!1,k(h),e.next=15,t({variables:{id:o,email:n,markdown:s,links:b}});case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(3),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[3,17]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:o.root,children:[Object(a.jsx)(b.a,{}),0===p.length?Object(a.jsx)("div",{className:o.mainWindowWrapper,children:"No Page"}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:o.pageBar,children:[p.map(((e,t)=>Object(a.jsx)("li",{children:Object(a.jsx)(Ge.a,{size:"small",label:u.find((t=>t.id===e)).title,disableRipple:!0,onClick:t=>{m.open(e),document.getElementsByClassName("input")[0].focus()},onDelete:()=>q(e),className:Object(oe.a)(o.chip,{[o.chipFocus]:e===j}),classes:{root:o.chipRoot,label:o.chipText}})},t))),Object(a.jsx)("div",{style:{flexGrow:1,height:24,borderBottom:"1px solid ".concat(c.palette.divider)}})]}),Object(a.jsxs)("div",{className:o.mainWindowWrapper,children:[Object(a.jsxs)("div",{className:o.modeButtonWrapper,children:[Object(a.jsx)(ae.a,{color:"main"===O?"inherit":"default",onClick:()=>K("main"),classes:{root:o.nopad},disableRipple:!0,children:Object(a.jsx)(Le.a,{})}),Object(a.jsx)(ae.a,{color:"mix"===O?"inherit":"default",onClick:()=>K("mix"),classes:{root:o.nopad},disableRipple:!0,children:Object(a.jsx)(Qe.a,{})}),w===p.length&&F[p.indexOf(j)].unsaved?Object(a.jsx)(ae.a,{id:"saveMain",onClick:()=>Q(j),classes:{root:o.nopad},disableRipple:!0,children:Object(a.jsx)(Pe.a,{})}):null,T?Object(a.jsx)(Ze,{func:D}):null]}),"main"===O||"mix"===O?Object(a.jsx)(We.a,{elevation:0,className:o.mainWindow,style:"main"===O?{width:"100%"}:{},children:Object(a.jsx)("textarea",{autoFocus:!0,className:"input ".concat(o.inputStyle),value:w===p.length?F[p.indexOf(j)].markdown:"",onChange:e=>{(e=>{let t=p.indexOf(j),n=[...F];n[t].markdown=e,n[t].unsaved=!0,k(n)})(e.target.value)}})}):Object(a.jsx)(a.Fragment,{}),"mix"===O?Object(a.jsx)(qe.a,{orientation:"vertical"}):null,"view"===O||"mix"===O?Object(a.jsx)(We.a,{elevation:0,className:o.viewWindow,style:"view"===O?{width:"100%"}:{},children:Object(a.jsx)(at,{className:"input ".concat(o.outputStyle),children:w===p.length?F[p.indexOf(j)].markdown:""})}):Object(a.jsx)(a.Fragment,{})]})]})]})}function st(){const e=Object(E.a)(["\n    query usernotes($email: String!) {\n        usernotes(email: $email) {\n            id\n            tags\n            links\n            markdown\n            title\n        }\n    }\n"]);return st=function(){return e},e}const lt=T()(st());function At(){const e=Object(E.a)(["\n    query userAvatar($id: String!) {\n        userAvatar(id: $id)\n    }\n"]);return At=function(){return e},e}const dt=T()(At());var ut=n(868),pt=n(294),jt=n.n(pt),bt=n(295),mt=n.n(bt),ht=n(296),xt=n.n(ht),Ot=n(844),gt=n(805),ft=n(857);const vt=Object(r.createContext)({mode:String,setMode:()=>{},open:Boolean,setOpen:()=>{},searchStr:String,setSearchStr:()=>{}}),wt=Object(S.a)((e=>({titlebar:{flexGrow:1,fontSize:"14px",margin:e.spacing(1),outline:"none",padding:"1px 6px",borderRadius:"12px",borderColor:"".concat(e.palette.divider),"&:focus":{borderColor:e.palette.text.primary}}})));function yt(){const e=wt(),t=Object(r.useContext)(Ne),n=t.usernotes,i=t.actions,o=Object(r.useContext)(vt),c=o.searchStr,s=o.setSearchStr,l=Object(r.useState)([]),A=Object(d.a)(l,2),u=A[0],p=A[1];return Object(r.useEffect)((()=>{if(c)if("tags:"===c.slice(0,5)){let e=[];n.forEach((t=>{let n=t.title,a=t.id,r=t.markdown;t.tags.forEach((t=>{t===c.slice(6)&&(console.log("success"),e.push({title:n,id:a,markdown:r}))}))})),console.log("search tag"),p(e)}else{let e=[];n.forEach((t=>{let n=t.title,a=t.id,r=t.markdown;(t.markdown.includes(c)||t.title.includes(c))&&e.push({title:n,id:a,markdown:r})})),console.log("search files"),p(e)}else p([]);return()=>{}}),[c]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(b.a,{}),Object(a.jsx)("div",{style:{display:"flex"},children:Object(a.jsx)("input",{id:"searchbox",className:e.titlebar,placeholder:"Search files or tags",onChange:e=>{s(e.target.value)},value:c})}),Object(a.jsx)(qe.a,{style:{height:"3px"}}),Object(a.jsx)("div",{style:{flexGrow:1,overflowY:"auto"},children:Object(a.jsx)(Ot.a,{disablePadding:!0,children:u.map(((e,t)=>Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(gt.a,{button:!0,onClick:()=>{i.open(e.id),document.getElementsByClassName("input")[0]&&document.getElementsByClassName("input")[0].focus()},children:Object(a.jsx)(ft.a,{primary:e.title})},t),Object(a.jsx)(qe.a,{})]})))})})]})}var St=n(858),Ct=n(293),Ft=n.n(Ct),kt=n(157),Nt=n.n(kt),Et=n(871),Bt=n(291),Tt=n.n(Bt),It=n(292),Rt=n.n(It);const Ut=Object(S.a)((()=>({dialogButton:{width:"256px",fontSize:"18px",textTransform:"none"},dialog:{}})));function Dt(e){Ut();const t=Object(r.useContext)(Ne),n=t.usernotes,o=t.actions,c=i.a.useState(""),s=Object(d.a)(c,2),l=s[0],A=s[1],u=i.a.useState(!0),p=Object(d.a)(u,2),b=p[0],h=p[1],x=i.a.useState(""),O=Object(d.a)(x,2),g=O[0],f=O[1],v=()=>l?-1!==n.findIndex((e=>e.title===l))?(h(!1),void f("name existed!")):(o.rename(e.fileID,l),void e.closeFunc()):(h(!1),void f("empty name!"));return Object(a.jsxs)(ue.a,{open:!0,"aria-labelledby":"form-dialog-title_".concat(e.fileID),children:[Object(a.jsx)(de.a,{id:"form-dialog-title_".concat(e.fileID),children:"New name"}),Object(a.jsx)(Ee.a,{children:Object(a.jsx)(m.a,{autoFocus:!0,error:!b,helperText:b?"":g,margin:"dense",id:"renameBox_".concat(e.fileID),label:"new name",fullWidth:!0,onChange:e=>{return t=e.target.value,A(t),void h(!0);var t},onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),v())}})}),Object(a.jsxs)(Oe.a,{children:[Object(a.jsx)(j.a,{onClick:e.closeFunc,color:"primary",children:"Cancel"}),Object(a.jsx)(j.a,{onClick:v,color:"primary",children:"OK"})]})]})}const Wt=Object(S.a)((e=>({dialogButton:{width:"128px",fontSize:"18px",textTransform:"none"},dialog:{}})));function qt(e){const t=Wt(),n=Object(r.useContext)(Ne).actions;return Object(a.jsxs)(ue.a,{open:!0,"aria-labelledby":"delete-dialog-title_".concat(e.fileID),children:[Object(a.jsx)(de.a,{id:"delete-dialog-title_".concat(e.fileID),children:"Delete ".concat(e.title,"?")}),Object(a.jsxs)(Oe.a,{children:[Object(a.jsx)(j.a,{className:t.dialogButton,onClick:()=>{n.delete(e.fileID),e.closeFunc()},color:"primary",children:"Yes"}),Object(a.jsx)(j.a,{className:t.dialogButton,onClick:e.closeFunc,color:"primary",children:"No"})]})]})}const Gt=Object(S.a)((e=>({labelIcon:{marginRight:e.spacing(.5)},labelText:{textAlign:"left",fontSize:"16px",fontWeight:"inherit",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},menuItem:{fontSize:"14px",width:"128px"}})));function Kt(e){const t=Gt(),n=e.node,o=i.a.useState(null),c=Object(d.a)(o,2),s=c[0],l=c[1],A=i.a.useState(!1),u=Object(d.a)(A,2),p=u[0],j=u[1],b=i.a.useState(!1),m=Object(d.a)(b,2),h=m[0],x=m[1],O=Object(r.useContext)(Ne).actions,g=e=>{e.preventDefault(),console.log(e.currentTarget),l(e.currentTarget)};return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{onContextMenu:g,style:{display:"flex",alignItems:"center",position:"relative"},onClick:e=>{console.log(e.button),0===e.button?(console.log(e.currentTarget),console.log("it should go here"),O.open(n.id),document.getElementsByClassName("input")[0]&&document.getElementsByClassName("input")[0].focus()):2===e.button&&g()},children:["dir"===n.type?Object(a.jsx)(Tt.a,{fontSize:"small",className:t.labelIcon}):Object(a.jsx)(Rt.a,{fontSize:"small",className:t.labelIcon}),Object(a.jsx)(y.a,{className:t.labelText,children:n.title})]}),"dir"!==n.type?Object(a.jsxs)(ce.a,{id:"name",anchorEl:s,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},keepMounted:!0,open:Boolean(s),onClose:()=>{l(null)},autoFocus:!1,children:[Object(a.jsx)(se.a,{className:t.menuItem,onClick:()=>{j(!0),l(null)},onKeyDown:e=>{"Enter"===e.key&&e.preventDefault()},children:"Rename"}),Object(a.jsx)(se.a,{className:t.menuItem,onClick:()=>{x(!0),l(null)},children:"Delete"})]}):null,p?Object(a.jsx)(Dt,{fileID:n.id,closeFunc:()=>j(!1)}):null,h?Object(a.jsx)(qt,{fileID:n.id,title:n.title,closeFunc:()=>x(!1)}):null]})}const Qt=Object(S.a)((e=>({root:{height:110,flexGrow:1,maxWidth:400,paddingTop:"6px"},labelIcon:{marginRight:e.spacing(.5)},labelText:{textAlign:"left",fontSize:"16px",fontWeight:"inherit",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},colorWhite1:{"&.Mui-selected > .MuiTreeItem-content .MuiTreeItem-label":{backgroundColor:"white"}}})));function Mt(){const e=Qt(),t=Object(r.useContext)(Ne),n=Object(r.useContext)(M),i=t=>Object(a.jsx)(Et.a,{nodeId:t.id,label:Object(a.jsx)(Kt,{node:t}),classes:{root:e.colorWhite1},children:Array.isArray(t.usernotes)?t.usernotes.map((e=>i(e))):null},t.id);return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(St.a,{className:e.root,defaultCollapseIcon:Object(a.jsx)(Ft.a,{}),defaultExpanded:["root"],defaultExpandIcon:Object(a.jsx)(Nt.a,{}),children:i(Object(U.a)(Object(U.a)({},t),{},{id:"root",title:n.user.name,type:"dir"}))})})}const Lt=Object(S.a)((e=>({root:{width:32,display:"flex"},sidebarWrapper:{width:32,display:"flex",alignItems:"center",flexDirection:"column",borderRight:"1px solid ".concat(e.palette.divider)},nopad:{padding:"0px",margin:"6px 0px"},rootShift:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginRight:256},drawer:{flexShrink:0},drawerPaperWrapper:{position:"relative"},drawerPaper:{position:"absolute",top:"0px",right:32,width:256,bottom:"0px"}})));function Vt(){const e=Lt(),t=Object(r.useContext)(vt),n=t.open,i=t.setOpen,o=t.mode,c=t.setMode,s=Object(r.useState)(!1),l=Object(d.a)(s,2),A=l[0],u=l[1],p=e=>{c(e),n||i(!0),n&&e===o&&i(!1)};return Object(a.jsxs)("div",{className:Object(oe.a)(e.root,{[e.rootShift]:n}),children:[Object(a.jsx)(b.a,{}),Object(a.jsxs)("div",{className:e.sidebarWrapper,children:[Object(a.jsx)(ae.a,{color:"search"===o&&n?"inherit":"default","aria-label":"open drawer",onClick:()=>p("search"),classes:{root:e.nopad},disableRipple:!0,children:Object(a.jsx)(jt.a,{})}),Object(a.jsx)(ae.a,{color:"file"===o&&n?"inherit":"default","aria-label":"open drawer",onClick:()=>p("file"),classes:{root:e.nopad},disableRipple:!0,children:Object(a.jsx)(mt.a,{})}),Object(a.jsx)(ae.a,{color:A?"inherit":"default","aria-label":"open drawer",onClick:()=>{u(!A)},classes:{root:e.nopad},disableRipple:!0,children:Object(a.jsx)(xt.a,{})})]}),Object(a.jsx)(ut.a,{className:e.drawer,variant:"persistent",anchor:"left",open:n,classes:{paper:e.drawerPaper,docked:e.drawerPaperWrapper},children:"search"===o?Object(a.jsx)(yt,{}):Object(a.jsx)(Mt,{})})]})}var Pt=n(297),Yt=n.n(Pt),Zt=n(298),Xt=n.n(Zt),Jt=n(299),zt=n.n(Jt);const Ht=Object(S.a)((e=>({root:{width:32,display:"flex"},sidebarWrapper:{width:32,display:"flex",alignItems:"center",flexDirection:"column",borderLeft:"1px solid ".concat(e.palette.divider)},nopad:{padding:"0px",margin:"6px 0px"},rootShift:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:256},drawer:{flexShrink:0},drawerPaperWrapper:{position:"relative"},drawerPaper:{position:"absolute",top:"0px",right:32,width:256,bottom:"0px"},drawerButton:{width:"36px",padding:"0px",margin:"6px 0px 6px 6px"}})));function $t(){const e=Ht(),t=Object(r.useContext)(Ne),n=t.currentOpenFile,i=t.usernotes,o=t.actions,c=Object(r.useContext)(vt),s=c.setSearchStr,l=c.setOpen,A=c.setMode,u=Object(r.useState)(!1),p=Object(d.a)(u,2),j=p[0],m=p[1],h=Object(r.useState)("link"),x=Object(d.a)(h,2),O=x[0],g=x[1],f=Object(r.useState)([]),v=Object(d.a)(f,2),w=v[0],y=v[1];Object(r.useEffect)((()=>{try{if(n){let e=i.find((e=>e.id===n)).title,t={};i.forEach((n=>{n.links.forEach((a=>{a===e&&(Object.keys(t).includes(n.title)||(t[n.title]=n.id))}))})),y(Object.entries(t))}}catch(e){console.log(e)}return()=>{}}),[i,n]);const S=Object(r.useState)([]),C=Object(d.a)(S,2),F=C[0],k=C[1];Object(r.useEffect)((()=>{let e={};return i.forEach((t=>{t.tags.forEach((t=>{Object.keys(e).includes(t)?e[t]+=1:e[t]=1}))})),k(Object.entries(e)),()=>{}}),[i]);const N=Object(r.useState)([]),E=Object(d.a)(N,2),B=E[0],T=E[1];Object(r.useEffect)((()=>(T("link"===O?w:F),()=>{})),[O,w,F]);const I=e=>{g(e)};return Object(a.jsxs)("div",{className:Object(oe.a)(e.root,{[e.rootShift]:j}),children:[Object(a.jsx)(b.a,{}),Object(a.jsx)("div",{className:e.sidebarWrapper,children:Object(a.jsx)(ae.a,{color:"default","aria-label":"open drawer",onClick:()=>{m(!j)},classes:{root:e.nopad},disableRipple:!0,children:j?Object(a.jsx)(Nt.a,{}):Object(a.jsx)(Yt.a,{})})}),Object(a.jsxs)(ut.a,{className:e.drawer,variant:"persistent",anchor:"right",open:j,classes:{paper:e.drawerPaper,docked:e.drawerPaperWrapper},children:[Object(a.jsxs)("div",{style:{display:"flex"},children:[Object(a.jsx)(ae.a,{color:"link"===O?"inherit":"default",onClick:()=>I("link"),classes:{root:e.drawerButton},disableRipple:!0,children:Object(a.jsx)(Xt.a,{})}),Object(a.jsx)(ae.a,{color:"tag"===O?"inherit":"default",onClick:()=>I("tag"),classes:{root:e.drawerButton},disableRipple:!0,children:Object(a.jsx)(zt.a,{})})]}),Object(a.jsx)(qe.a,{style:{height:"3px"}}),Object(a.jsx)("div",{style:{flexGrow:1,overflowY:"auto"},children:Object(a.jsx)(Ot.a,{disablePadding:!0,children:B.map(((e,t)=>Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(gt.a,{button:!0,onClick:()=>{var t,n;"tag"===O?(n=e[0],s("tags: "+n),l(!0),A("search")):(t=e[1],o.open(t),document.getElementsByClassName("input")[0]&&document.getElementsByClassName("input")[0].focus())},children:[Object(a.jsx)(ft.a,{primary:"tag"===O?"# "+e[0]:e[0]}),Object(a.jsx)(ft.a,{primary:"tag"===O?e[1]:"",style:{textAlign:"right"}})]},t),Object(a.jsx)(qe.a,{})]})))})})]})]})}var _t=n(870),en=n(863);function tn(){const e=Object(E.a)(["\n    mutation addtag($id: String!, $email: String!, $tag: String!) {\n        addtag(id: $id, email: $email, tag: $tag)\n    }\n"]);return tn=function(){return e},e}const nn=T()(tn());function an(){const e=Object(E.a)(["\n    mutation deletetag($id: String!, $email: String!, $index: Int!) {\n        deletetag(id: $id, email: $email, index: $index)\n    }\n"]);return an=function(){return e},e}const rn=T()(an()),on=Object(S.a)((e=>({root:{display:"flex",flexWrap:"wrap",alignItems:"center",listStyle:"none",margin:0,height:"32px",overflowY:"auto"},chip:{margin:e.spacing(.5)},titlebar:{flexGrow:1,fontSize:"14px",margin:e.spacing(.5),outline:"none",padding:"1px 6px",borderRadius:"12px",borderColor:"".concat(e.palette.divider),"&:focus":{borderColor:e.palette.text.primary}},alert:{width:"256px"}})));function cn(){const e=on(),t=Object(r.useContext)(Ne),n=t.currentOpenFile,o=t.usernotes,c=t.setuserNotes,s=Object(r.useState)(null),u=Object(d.a)(s,2),p=u[0],j=u[1];i.a.useEffect((()=>{p&&setTimeout((function(){j(null)}),1300)}),[p]);const m=Boolean(p),h=m?"simple-popover":void 0,x=Object(r.useContext)(M),O=Object(N.a)(nn),g=Object(d.a)(O,1)[0],f=Object(N.a)(rn),v=Object(d.a)(f,1)[0],w=Object(r.useState)(""),y=Object(d.a)(w,2),S=y[0],C=y[1],F=Object(r.useState)([]),k=Object(d.a)(F,2),E=k[0],B=k[1];Object(r.useEffect)((()=>(n&&o&&B(o.find((e=>e.id===n)).tags),()=>{})),[n,o]);const T=function(){var e=Object(A.a)(l.a.mark((function e(t){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=E.filter(((e,n)=>n!==t)),B(a),(r=[...o]).find((e=>e.id===n)).tags.splice(t,1),c(r),e.next=8,v({variables:{id:n,email:x.user.email,index:t}});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(A.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"!==t.key||""===t.target.value||!n){e.next=18;break}if(e.prev=1,!E.includes(S)){e.next=5;break}return j(document.body),e.abrupt("return");case 5:return(a=[...o]).find((e=>e.id===n)).tags.push(S),c(a),B([...E,S]),e.next=11,g({variables:{id:n,email:x.user.email,tag:S}});case 11:C(""),t.target.value="",e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(b.a,{}),Object(a.jsxs)("div",{className:e.root,children:[E.map(((t,n)=>Object(a.jsx)("li",{children:Object(a.jsx)(Ge.a,{size:"small",label:t,onDelete:()=>T(n),className:e.chip})},n))),Object(a.jsx)("input",{id:"taginput",className:e.titlebar,placeholder:"New tags",onChange:e=>{C(e.target.value)},onKeyDown:I}),Object(a.jsx)(_t.a,{id:h,open:m,anchorEl:p,onClose:()=>{j(null)},anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(a.jsx)(en.a,{className:e.alert,severity:"warning",children:"Tag Already Exists!"})})]})]})}function sn(){const e=Object(E.a)(["\n    mutation createNote(\n        $email: String!\n        $title: String!\n        $markdown: String!\n        $tags: [String]!\n        $links: [String]!\n    ) {\n        createNote(\n            data: {\n                email: $email\n                title: $title\n                markdown: $markdown\n                tags: $tags\n                links: $links\n            }\n        ) {\n            id\n            tags\n            title\n            markdown\n            links\n        }\n    }\n"]);return sn=function(){return e},e}const ln=T()(sn());function An(){const e=Object(E.a)(["\n    mutation deleteNote($id: String!, $email: String!) {\n        deleteNote(id: $id, email: $email)\n    }\n"]);return An=function(){return e},e}const dn=T()(An());function un(e,t){let n=[],a="";switch(t.type){case"SET":return t.updData;case"NEW":return{usernotes:[...e.usernotes,t.data],openFiles:[...e.openFiles,t.id],currentOpenFile:t.id};case"OPEN":return"root"===t.id?e:e.openFiles.includes(t.id)?Object(U.a)(Object(U.a)({},e),{},{currentOpenFile:t.id}):Object(U.a)(Object(U.a)({},e),{},{openFiles:[...e.openFiles,t.id],currentOpenFile:t.id});case"RENAME":return Object(U.a)(Object(U.a)({},e),{},{usernotes:t.data});case"DELETE":if(a=e.currentOpenFile,n=e.openFiles.filter((e=>e!==t.id)),t.id===e.currentOpenFile){let t=e.openFiles.indexOf(e.currentOpenFile);a=t>0?e.openFiles[t-1]:0===t&&e.openFiles.length>1?e.openFiles[1]:""}return Object(U.a)(Object(U.a)({},e),{},{usernotes:t.data,openFiles:n,currentOpenFile:a});case"CLOSE":if(a=e.currentOpenFile,n=e.openFiles.filter((e=>e!==t.id)),t.id===e.currentOpenFile){let t=e.openFiles.indexOf(e.currentOpenFile);a=t>0?e.openFiles[t-1]:0===t&&e.openFiles.length>1?e.openFiles[1]:""}return Object(U.a)(Object(U.a)({},e),{},{openFiles:n,currentOpenFile:a});default:return e}}var pn=n(300),jn=n.n(pn);var bn=({type:e,color:t})=>Object(a.jsx)(jn.a,{type:e,color:t,height:667,width:375});const mn=Object(S.a)((e=>({mainGrid:{marginTop:e.spacing(3)},pageContainer:{minHeight:"100%",display:"flex",flexDirection:"column"}})));function hn(){const e=mn(),t=Object(r.useContext)(M).user,n=t.email,o=t.userId,c=Object(r.useState)("search"),s=Object(d.a)(c,2),u=s[0],p=s[1],j=Object(r.useState)(!1),m=Object(d.a)(j,2),h=m[0],x=m[1],O=Object(r.useState)(""),g=Object(d.a)(O,2),f=g[0],v=g[1],w=Object(N.b)(lt,{variables:{email:n}}),y=w.loading,S=w.error,F=w.data,k=Object(N.b)(dt,{variables:{id:o}}),E=k.loading,B=k.error,T=k.data,I=Object(r.useState)(""),R=Object(d.a)(I,2),D=R[0],W=R[1];Object(r.useEffect)((()=>(E||B||W(T.userAvatar),()=>{})),[E]);const q=function(e){const t=Object(r.useReducer)(un,e),n=Object(d.a)(t,2),a=n[0],i=n[1],o=Object(N.a)(ln),c=Object(d.a)(o,1)[0],s=Object(N.a)(dn),u=Object(d.a)(s,1)[0],p=Object(N.a)(it),j=Object(d.a)(p,1)[0],b=Object(r.useContext)(M).user.email;function m(e){i({type:"SET",updData:Object(U.a)(Object(U.a)({},a),{},{usernotes:e})})}function h(){return(h=Object(A.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c({variables:{email:b,title:t,markdown:"",tags:[],links:[]}});case 3:n=e.sent,i({type:"NEW",id:n.data.createNote.id,data:n.data.createNote}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function x(){return(x=Object(A.a)(l.a.mark((function e(t,n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(r=[...a.usernotes]).find((e=>e.id===t)).title=n,i({type:"RENAME",id:t,data:r}),e.next=6,j({variables:{id:t,email:b,title:n}});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function O(){return(O=Object(A.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=[...a.usernotes],r=n.findIndex((e=>e.id===t)),n.splice(r,1),console.log(t),console.log(n),i({type:"DELETE",id:t,data:n}),e.next=9,u({variables:{id:t,email:b}});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}return{usernotes:a.usernotes,openFiles:a.openFiles,currentOpenFile:a.currentOpenFile,setuserNotes:m,setopenFiles:function(e){i({type:"SET",updData:Object(U.a)(Object(U.a)({},a),{},{openFiles:e})})},setcurrentOpenFile:function(e){i({type:"SET",updData:Object(U.a)(Object(U.a)({},a),{},{currentOpenFile:e})})},actions:{new:function(e){return h.apply(this,arguments)},open:function(e){i({type:"OPEN",id:e})},save:function(e,t){let n=[...a.usernotes],r=n.findIndex((t=>t.id===e));n[r]=t,m(n)},close:function(e){i({type:"CLOSE",id:e})},rename:function(e,t){return x.apply(this,arguments)},delete:function(e){return O.apply(this,arguments)}}}}({usernotes:[],openFiles:[],currentOpenFile:""}),G=q.usernotes,K=q.openFiles,Q=q.currentOpenFile,L=q.setcurrentOpenFile,V=q.setuserNotes,P=q.setopenFiles,Y=q.actions;return Object(r.useEffect)((()=>{y||S||V(F.usernotes)}),[y,F,S]),y||E?Object(a.jsx)("div",{color:"blue",children:Object(a.jsx)(bn,{type:"spinningBubbles",color:"ffffff"})}):Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsx)(b.a,{}),Object(a.jsx)(C.a,{maxWidth:!1,disableGutters:!0,className:e.pageContainer,children:Object(a.jsxs)(Ne.Provider,{value:{usernotes:G,openFiles:K,currentOpenFile:Q,setcurrentOpenFile:L,setuserNotes:V,setopenFiles:P,actions:Y},children:[Object(a.jsx)(ge.Provider,{value:{avatar:D,setAvatar:W},children:Object(a.jsx)(Ue,{})}),Object(a.jsx)(vt.Provider,{value:{mode:u,setMode:p,open:h,setOpen:x,searchStr:f,setSearchStr:v},children:Object(a.jsxs)("main",{style:{display:"flex",flexGrow:1,alignItems:"stretch"},children:[Object(a.jsx)(Vt,{}),Object(a.jsxs)("div",{style:{display:"flex",flexGrow:1,flexDirection:"column",alignItems:"stretch"},children:[Object(a.jsx)(ct,{}),Object(a.jsx)(cn,{})]}),Object(a.jsx)($t,{})]})})]})})]})}var xn=function(){return Object(a.jsxs)(u.d,{children:[Object(a.jsx)(ee,{exact:!0,path:"/",component:Z}),Object(a.jsx)(ee,{exact:!0,path:"/login",component:Z}),Object(a.jsx)(ee,{exact:!0,path:"/signup",component:$}),Object(a.jsx)(te,{exact:!0,path:"/dashboard",component:hn})]})};var On=function(){const e=Object(r.useState)(!0),t=Object(d.a)(e,2),n=t[0],i=t[1],o=Object(r.useContext)(M);return Object(r.useEffect)((()=>{fetch("/refresh_token",{method:"POST",credentials:"include"}).then(function(){var e=Object(A.a)(l.a.mark((function e(t){var n,a,r,c,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:(n=e.sent).accessToken?(G(n.accessToken),a=W()(n.accessToken),r=a.userId,c=a.name,s=a.email,o.user||o.login({userId:r,name:c,email:s,accessToken:n.accessToken})):console.log("no access Token, Please login"),i(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(a.jsx)("div",{className:"App",children:Object(a.jsx)(O.a,{children:n?Object(a.jsx)(bn,{type:"spinningBubbles",color:"ffffff"}):Object(a.jsx)(xn,{})})})};var gn=e=>{e&&e instanceof Function&&n.e(3).then(n.bind(null,872)).then((({getCLS:t,getFID:n,getFCP:a,getLCP:r,getTTFB:i})=>{t(e),n(e),a(e),r(e),i(e)}))},fn=n(103),vn=n(865),wn=n(37),yn=n(51),Sn=n(35),Cn=n(302),Fn=n(859),kn=n.n(Fn),Nn=n(303);const En=kn()({uri:"/graphql",credentials:"include"}),Bn=new yn.a(((e,t)=>new Sn.a((n=>{let a;return Promise.resolve(e).then((e=>{const t=K();t&&e.setContext({headers:{authorization:"bearer ".concat(t)}})})).then((()=>{a=t(e).subscribe({next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)})})).catch(n.error.bind(n)),()=>{a&&a.unsubscribe()}})))),Tn=new Nn.a({accessTokenField:"accessToken",isTokenValidOrUndefined:()=>{const e=K();if(!e)return!0;try{const t=W()(e).exp;return!(Date.now()>=1e3*t)}catch(t){return!1}},fetchAccessToken:()=>fetch("/refresh_token",{method:"POST",credentials:"include"}),handleFetch:e=>{console.log(e),G(e)},handleError:e=>{console.warn("Your refresh token is invalid. Try to relogin"),console.error(e)}}),In=Object(Cn.a)((({graphQLErrors:e,networkError:t,errorMessage:n})=>{console.log(e),console.log(t)})),Rn=new fn.a({link:yn.a.from([Tn,In,Bn,En]),cache:(new vn.a).restore({})}),Un=Object(a.jsx)(wn.a,{client:Rn,children:Object(a.jsx)(V,{children:Object(a.jsx)(On,{})})});c.a.render(Un,document.getElementById("root")),gn()}},[[801,1,2]]]);
//# sourceMappingURL=main.620f3b33.chunk.js.map