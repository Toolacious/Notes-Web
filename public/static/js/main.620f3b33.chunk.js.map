{"version":3,"sources":["graphql/login.js","accessToken.js","routes/auth.js","components/SignIn.js","graphql/mutations.js","components/SignUp.js","routes/authRoute.js","routes/protectRoute.js","components/Page_1_0/MenuItem.js","graphql/logout.js","graphql/upload.js","context/avatarContext.js","components/Page_1_0/crop.js","components/Page_1_0/UploadDialog.js","components/Page_1_0/AccountDialog.js","context/filetree.js","components/Page_1_0/NewDialog.js","icons/icon.jpg","components/Page_1_0/Header.js","icons/avatar.png","components/Page_1_0/SaveDialog.js","components/Page_1_0/Markdown.js","graphql/updateNote.js","components/Page_1_0/Main.js","graphql/notes.js","graphql/getAvatar.js","context/mainContext.js","components/Page_1_0/SearchBox.js","components/Page_1_0/RenameDialog.js","components/Page_1_0/DeleteDialog.js","components/Page_1_0/TreeMenuItem.js","components/Page_1_0/FolderTree.js","components/Page_1_0/LeftDrawer.js","components/Page_1_0/RightDrawer.js","graphql/addTag.js","graphql/delTag.js","components/Page_1_0/TagBar.js","graphql/createNote.js","graphql/deleteNote.js","components/Page_1_0/FileActions.js","routes/loading.js","components/Page_1_0/Page_1_0.js","routes/Routes.js","App.js","reportWebVitals.js","index.js"],"names":["LOGIN_Mutation","gql","accessToken","setAccessToken","s","getAccessToken","initialState","user","decodedToken","jwtDecode","AuthContext","createContext","login","userData","logout","authReducer","state","action","type","payload","AuthProvider","props","useReducer","dispatch","Provider","value","Copyright","Typography","variant","color","align","to","Date","getFullYear","useStyles","makeStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","form","width","submit","SignIn","context","useContext","classes","useMutation","loading","error","useState","loginErr","setloginErr","history","useHistory","validationSchema","Yup","email","required","password","min","formik","useFormik","initialValues","onSubmit","values","a","variables","response","console","log","data","push","message","slice","Container","component","maxWidth","CssBaseline","className","Avatar","handleSubmit","noValidate","TextField","fullWidth","id","label","name","autoComplete","autoFocus","onChange","handleChange","touched","Boolean","errors","helperText","FormControlLabel","control","Checkbox","Button","disabled","isSubmitting","Grid","container","item","xs","Box","mt","CREATE_USER_MUTATION","SignUp","fname","max","lname","confirmPassword","oneOf","addUser","regiErr","setRegiErr","sm","justify","AuthRoute","Component","rest","render","ProtectRoute","menubarButton","fontSize","paddingTop","paddingBottom","paddingLeft","paddingRight","flexShrink","textTransform","menuItem","disabledMenuItem","cursor","SimpleMenu","menu","sections","React","anchorEl","setAnchorEl","aria-controls","aria-haspopup","onClick","event","currentTarget","onKeyDown","e","key","preventDefault","Menu","getContentAnchorEl","anchorOrigin","vertical","horizontal","transformOrigin","keepMounted","open","onClose","map","section","MenuItem","clsx","document","getElementById","func","LOGOUT_Mutation","UPLOAD_Mutation","AvatarContext","String","setAvatar","canvas","crop","upload","url","toDataURL","picture","height","headerAvatar","marginLeft","marginRight","headerAvatarWrapper","justifyContent","avatarWrapper","marginBottom","dialogButton","dialog","input","Crop","userId","upImg","setUpImg","imgRef","useRef","previewCanvasRef","aspect","setCrop","completedCrop","setCompletedCrop","onLoad","useCallback","img","current","useEffect","image","scaleX","naturalWidth","scaleY","naturalHeight","ctx","getContext","pixelRatio","window","devicePixelRatio","setTransform","imageSmoothingQuality","drawImage","x","y","style","src","onImageLoaded","c","onComplete","circularCrop","ref","Math","round","DialogActions","accept","target","files","length","reader","FileReader","addEventListener","result","readAsDataURL","htmlFor","generateDownload","UploadDialog","Dialog","aria-labelledby","DialogTitle","SimpleDialog","onOpen","selectedValue","avatar_src","alt","AccountDialog","setOpen","uploadOpen","setUploadOpen","setSelectedValue","handleClickOpen","handleClose","filecontext","usernotes","openFiles","currentOpenFile","setcurrentOpenFile","setuserNotes","setopenFiles","actions","RenameDialog","title","setTitle","valid","setValid","helper","setHelper","handleCreate","findIndex","notes","new","closeFunc","DialogContent","handleTitle","val","headerWrapper","flexWrap","borderBottom","divider","zIndex","drawer","icon","mainWrapper","flexGrow","titlebar","border","menubar","minHeight","padding","overflowX","Header","openNewDialog","setOpenNewDialog","file_menu","saveButton","click","Fragment","defaultValue","Toolbar","IconButton","SaveDialog","updFunc","Markdown","escapeHtml","plugins","gfm","singleTilde","RemarkMathPlugin","renderers","code","language","dark","children","math","inlineMath","_mapProps","UPDNOTE_Mutation","root","pageBar","listStyle","overflowY","chip","borderRadius","borderRight","chipRoot","transform","hover","chipText","textAlign","overflow","textOverflow","chipFocus","markdown","mainWindowWrapper","position","mainWindow","viewWindow","modeButtonWrapper","top","right","nopad","inputStyle","resize","outline","outputStyle","Main","updNote","useTheme","mode","setMode","pageNum","setPageNum","pages","setPages","openDialog","setOpenDialog","dialogFunctions","setDialogFunctions","fileID","node","Object","assign","unsaved","find","addPage","handleDelete","chipToDelete","indexOf","save","deletePage","close","updPages","filter","index","handleMode","updMode","currentPageIndex","tags","regex","str","links","g","exec","lastIndex","forEach","match","groupIndex","newPages","Chip","size","disableRipple","getElementsByClassName","focus","onDelete","Paper","elevation","handleContentData","Divider","orientation","NOTES_QUERY","AVATAR_QUERY","mainContext","searchStr","setSearchStr","borderColor","text","primary","SearchBox","showingItem","setShowingItem","alltags","ele","allfiles","includes","placeholder","List","disablePadding","obj","ListItem","button","ListItemText","handleRename","rename","DeleteDialog","delete","labelIcon","labelText","fontWeight","whiteSpace","TreeMenu","openRenameDialog","setOpenRenameDialog","openDeleteDialog","setOpenDeleteDialog","handleClick","onContextMenu","colorWhite1","FolderTree","renderTree","TreeItem","nodeId","Array","isArray","child","TreeView","defaultCollapseIcon","defaultExpanded","defaultExpandIcon","sidebarWrapper","rootShift","transition","transitions","create","easing","easeOut","duration","enteringScreen","drawerPaperWrapper","drawerPaper","bottom","PersistentDrawerLeft","graphMode","setGraph","aria-label","Drawer","anchor","docked","borderLeft","drawerButton","PersistentDrawerRight","r_open","setr_open","r_mode","setr_Mode","setLink","alllinks","keys","entries","setTag","tag","ADDTAG_Mutation","DELTAG_Mutation","alert","TagBar","anchorEle","setAnchorEle","setTimeout","undefined","addtag","deltag","chipData","setChipData","chips","newnotes","splice","newTag","body","Popover","Alert","severity","ADDNOTE_Mutation","DELNOTE_Mutation","actionReducer","updOpenFiles","updCurrentOpenFile","updData","idx","Example","mainGrid","pageContainer","Page_1_0","useQuery","ava_loading","ava_error","ava_data","userAvatar","newNote","delNote","setUserNotes","createNote","newNotes","FileActions","disableGutters","Routes","exact","path","App","setLoading","fetch","method","credentials","then","res","json","decode","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","httpLink","createUploadLink","uri","requestLink","ApolloLink","operation","forward","Observable","observer","handle","Promise","resolve","setContext","headers","authorization","subscribe","next","bind","complete","catch","unsubscribe","RefreshLink","TokenRefreshLink","accessTokenField","isTokenValidOrUndefined","token","exp","now","fetchAccessToken","handleFetch","handleError","err","warn","errorLink","onError","graphQLErrors","networkError","errorMessage","client","ApolloClient","link","from","cache","InMemoryCache","restore","wrappedApp","ReactDOM"],"mappings":"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","file":"static/js/main.620f3b33.chunk.js","sourcesContent":["import { gql } from \"apollo-boost\";\n\nexport const LOGIN_Mutation = gql`\n    mutation login($email: String!, $password: String!) {\n        login(data: { email: $email, password: $password }) {\n            userId\n            name\n            email\n            accessToken\n        }\n    }\n`;\n","let accessToken = \"\";\n\nexport const setAccessToken = (s) => {\n    accessToken = s;\n};\n\nexport const getAccessToken = () => {\n    return accessToken;\n};\n","import React, { useReducer, createContext } from \"react\";\nimport jwtDecode from \"jwt-decode\";\nimport { getAccessToken } from \"../accessToken\";\n\nconst initialState = {\n    user: null,\n};\n\nif (getAccessToken()) {\n    const decodedToken = jwtDecode(getAccessToken());\n    initialState.user = decodedToken;\n}\n\nconst AuthContext = createContext({\n    user: null,\n    login: (userData) => {},\n    logout: () => {},\n});\n\nfunction authReducer(state, action) {\n    switch (action.type) {\n        case \"LOGIN\":\n            return {\n                ...state,\n                user: action.payload,\n            };\n        case \"LOGOUT\":\n            return {\n                ...state,\n                user: null,\n            };\n        default:\n            return state;\n    }\n}\n\nfunction AuthProvider(props) {\n    const [state, dispatch] = useReducer(authReducer, initialState);\n\n    function login(userData) {\n        //localStorage.setItem(\"jwtToken\", userData.token);\n        dispatch({\n            type: \"LOGIN\",\n            payload: userData,\n        });\n    }\n\n    function logout() {\n        //localStorage.removeItem(\"jwtToken\");\n        dispatch({ type: \"LOGOUT\" });\n    }\n\n    return (\n        <AuthContext.Provider\n            value={{ user: state.user, login, logout }}\n            {...props}\n        />\n    );\n}\n\nexport { AuthContext, AuthProvider };\n","import React, { useState, useContext } from \"react\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\n//import Link from \"@material-ui/core/Link\";\nimport { Link } from \"react-router-dom\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from \"@material-ui/core/Box\";\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport { useMutation } from \"@apollo/react-hooks\";\n//import { signin } from \"../axios\";\nimport { LOGIN_Mutation } from \"../graphql/login\";\nimport { AuthContext } from \"../routes/auth\";\n\nimport { setAccessToken } from \"../accessToken\";\nimport { useHistory } from \"react-router-dom\";\n\nfunction Copyright() {\n    return (\n        <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n            {\"Copyright © \"}\n            <Link color=\"inherit\" to=\"https://material-ui.com/\">\n                Your Website\n            </Link>{\" \"}\n            {new Date().getFullYear()}\n            {\".\"}\n        </Typography>\n    );\n}\n\nconst useStyles = makeStyles((theme) => ({\n    paper: {\n        marginTop: theme.spacing(8),\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: \"100%\", // Fix IE 11 issue.\n        marginTop: theme.spacing(1),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n}));\n\nexport default function SignIn() {\n    const context = useContext(AuthContext);\n    const classes = useStyles();\n    const [login, { loading, error }] = useMutation(LOGIN_Mutation);\n    const [loginErr, setloginErr] = useState(\"\");\n    const history = useHistory();\n    const validationSchema = Yup.object({\n        email: Yup.string(\"Enter your email\")\n            .email(\"Enter a valid email\")\n            .required(\"Email is required\"),\n        password: Yup.string(\"\")\n            .min(6, \"Password must contain at least 6 characters\")\n            .required(\"Enter your password\"),\n    });\n\n    const formik = useFormik({\n        initialValues: {\n            email: \"\",\n            password: \"\",\n        },\n        validationSchema,\n        onSubmit: async (values) => {\n            try {\n                const { email, password } = values;\n                const response = await login({\n                    variables: {\n                        email,\n                        password,\n                    },\n                });\n                if (!error && !loading) {\n                    console.log(\"redirect\");\n                }\n                if (response && response.data) {\n                    console.log(\"response\");\n                    console.log(response.data);\n                    setAccessToken(response.data.login.accessToken);\n                }\n                context.login(response.data.login);\n                history.push(\"/dashboard\");\n            } catch (err) {\n                console.log(err.message);\n                setloginErr(err.message.slice(15));\n            }\n        },\n    });\n\n    return (\n        <Container component=\"main\" maxWidth=\"xs\">\n            <CssBaseline />\n            <div className={classes.paper}>\n                <Avatar className={classes.avatar}>\n                    <LockOutlinedIcon />\n                </Avatar>\n                <Typography component=\"h1\" variant=\"h5\">\n                    Sign in\n                </Typography>\n                <form\n                    className={classes.form}\n                    onSubmit={formik.handleSubmit}\n                    noValidate\n                >\n                    <TextField\n                        variant=\"outlined\"\n                        margin=\"normal\"\n                        required\n                        fullWidth\n                        id=\"email\"\n                        label=\"Email Address\"\n                        name=\"email\"\n                        autoComplete=\"email\"\n                        autoFocus\n                        value={formik.values.email}\n                        onChange={formik.handleChange}\n                        error={\n                            (formik.touched.email &&\n                                Boolean(formik.errors.email)) ||\n                            loginErr[0] === \"E\"\n                        }\n                        helperText={\n                            (formik.touched.email && formik.errors.email) ||\n                            (loginErr[0] === \"E\" ? loginErr : null)\n                        }\n                    />\n\n                    <TextField\n                        variant=\"outlined\"\n                        margin=\"normal\"\n                        required\n                        fullWidth\n                        name=\"password\"\n                        label=\"Password\"\n                        type=\"password\"\n                        id=\"password\"\n                        autoComplete=\"current-password\"\n                        onChange={formik.handleChange}\n                        error={\n                            (formik.touched.password &&\n                                Boolean(formik.errors.password)) ||\n                            loginErr[0] === \"P\"\n                        }\n                        helperText={\n                            (formik.touched.password &&\n                                formik.errors.password) ||\n                            (loginErr[0] === \"P\" ? loginErr : null)\n                        }\n                    />\n                    <FormControlLabel\n                        control={<Checkbox value=\"remember\" color=\"primary\" />}\n                        label=\"Remember me\"\n                    />\n                    <Button\n                        type=\"submit\"\n                        fullWidth\n                        variant=\"contained\"\n                        color=\"primary\"\n                        className={classes.submit}\n                        disabled={formik.isSubmitting}\n                    >\n                        Sign In\n                    </Button>\n                    <Grid container>\n                        <Grid item xs>\n                            <Link to=\"#\" variant=\"body2\">\n                                Forgot password?\n                            </Link>\n                        </Grid>\n                        <Grid item>\n                            <Link to=\"/signup\" variant=\"body2\">\n                                {\"Don't have an account? Sign Up\"}\n                            </Link>\n                        </Grid>\n                    </Grid>\n                </form>\n            </div>\n            <Box mt={8}>\n                <Copyright />\n            </Box>\n        </Container>\n    );\n}\n","import { gql } from \"apollo-boost\";\n\nexport const CREATE_USER_MUTATION = gql`\n    mutation createUser(\n        $fname: String!\n        $lname: String!\n        $name: String!\n        $email: String!\n        $password: String!\n    ) {\n        createUser(\n            data: {\n                fname: $fname\n                lname: $lname\n                name: $name\n                email: $email\n                password: $password\n            }\n        ) {\n            id\n            name\n            password\n        }\n    }\n`;\n","import React, { useContext, useState } from \"react\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\n//import Link from \"@material-ui/core/Link\";\nimport { Link } from \"react-router-dom\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from \"@material-ui/core/Box\";\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport { useMutation } from \"@apollo/react-hooks\";\nimport { CREATE_USER_MUTATION } from \"../graphql/mutations\";\nimport { LOGIN_Mutation } from \"../graphql/login\";\nimport { setAccessToken } from \"../accessToken\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { AuthContext } from \"../routes/auth\";\n\nfunction Copyright() {\n    return (\n        <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n            {\"Copyright © \"}\n            <Link color=\"inherit\" to=\"https://material-ui.com/\">\n                Your Website\n            </Link>{\" \"}\n            {new Date().getFullYear()}\n            {\".\"}\n        </Typography>\n    );\n}\n\nconst useStyles = makeStyles((theme) => ({\n    paper: {\n        marginTop: theme.spacing(8),\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: \"100%\", // Fix IE 11 issue.\n        marginTop: theme.spacing(3),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n}));\n\nexport default function SignUp() {\n    const context = useContext(AuthContext);\n\n    const validationSchema = Yup.object({\n        fname: Yup.string(\"Enter your first name\")\n            .min(2, \"Fist name should be of minimum 2 characters length\")\n            .max(50)\n            .required(\"First name is required\"),\n        lname: Yup.string(\"Enter your last name\")\n            .min(2, \"Fist name should be of minimum 2 characters length\")\n            .required(\"Last name is required\"),\n        name: Yup.string(\"Enter a name\")\n            .min(6, \"Username should be of minimum 6 characters length\")\n            .required(\"Name is required\"),\n        email: Yup.string(\"Enter your email\")\n            .email(\"Enter a valid email\")\n            .required(\"Email is required\"),\n        password: Yup.string(\"\")\n            .min(6, \"Password must contain at least 6 characters\")\n            .required(\"Enter your password\"),\n        confirmPassword: Yup.string(\"Enter your password\")\n            .required(\"Confirm your password\")\n            .oneOf([Yup.ref(\"password\")], \"Password does not match\"),\n    });\n\n    const history = useHistory();\n    const [addUser] = useMutation(CREATE_USER_MUTATION);\n    const [regiErr, setRegiErr] = useState(\"\");\n    const [login, { loading }] = useMutation(LOGIN_Mutation);\n    const classes = useStyles();\n    const formik = useFormik({\n        initialValues: {\n            fname: \"\",\n            lname: \"\",\n            name: \"\",\n            email: \"\",\n            password: \"\",\n            confirmPassword: \"\",\n        },\n        validationSchema,\n        onSubmit: async (values) => {\n            //alert(JSON.stringify(values, null, 2));\n            try {\n                const { fname, lname, name, email, password } = values;\n                await addUser({\n                    variables: {\n                        fname,\n                        lname,\n                        name,\n                        email,\n                        password,\n                    },\n                });\n                const response = await login({\n                    variables: {\n                        email,\n                        password,\n                    },\n                });\n                if (!loading) {\n                    console.log(\"redirect\");\n                }\n                if (response && response.data) {\n                    console.log(\"response\");\n                    console.log(response.data);\n                    setAccessToken(response.data.login.accessToken);\n                }\n                context.login(response.data.login);\n                history.push(\"/dashboard\");\n            } catch (err) {\n                console.log(err.message);\n                setRegiErr(err.message.slice(15));\n            }\n        },\n    });\n\n    return (\n        <Container component=\"main\" maxWidth=\"xs\">\n            <CssBaseline />\n            <div className={classes.paper}>\n                <Avatar className={classes.avatar}>\n                    <LockOutlinedIcon />\n                </Avatar>\n                <Typography component=\"h1\" variant=\"h5\">\n                    Sign up\n                </Typography>\n                <form\n                    className={classes.form}\n                    onSubmit={formik.handleSubmit}\n                    noValidate\n                >\n                    <Grid container spacing={2}>\n                        <Grid item xs={12} sm={6}>\n                            <TextField\n                                autoComplete=\"fname\"\n                                name=\"fname\"\n                                variant=\"outlined\"\n                                required\n                                fullWidth\n                                id=\"fname\"\n                                label=\"First name\"\n                                autoFocus\n                                value={formik.values.fname}\n                                onChange={formik.handleChange}\n                                error={\n                                    formik.touched.fname &&\n                                    Boolean(formik.errors.fname)\n                                }\n                                helperText={\n                                    formik.touched.fname && formik.errors.fname\n                                }\n                            />\n                        </Grid>\n                        <Grid item xs={12} sm={6}>\n                            <TextField\n                                variant=\"outlined\"\n                                required\n                                fullWidth\n                                id=\"lname\"\n                                label=\"Last name\"\n                                name=\"lname\"\n                                autoComplete=\"lname\"\n                                value={formik.values.lname}\n                                onChange={formik.handleChange}\n                                error={\n                                    formik.touched.lname &&\n                                    Boolean(formik.errors.lname)\n                                }\n                                helperText={\n                                    formik.touched.lname && formik.errors.lname\n                                }\n                            />\n                        </Grid>\n                        <Grid item xs={12}>\n                            <TextField\n                                autoComplete=\"username\"\n                                name=\"name\"\n                                variant=\"outlined\"\n                                required\n                                fullWidth\n                                id=\"name\"\n                                label=\"Username\"\n                                autoFocus\n                                value={formik.values.name}\n                                onChange={formik.handleChange}\n                                error={\n                                    formik.touched.name &&\n                                    Boolean(formik.errors.name)\n                                }\n                                helperText={\n                                    formik.touched.name && formik.errors.name\n                                }\n                            />\n                        </Grid>\n                        <Grid item xs={12}>\n                            <TextField\n                                variant=\"outlined\"\n                                required\n                                fullWidth\n                                id=\"email\"\n                                label=\"Email Address\"\n                                name=\"email\"\n                                autoComplete=\"email\"\n                                value={formik.values.email}\n                                onChange={formik.handleChange}\n                                error={\n                                    (formik.touched.email &&\n                                        Boolean(formik.errors.email)) ||\n                                    regiErr !== \"\"\n                                }\n                                helperText={\n                                    (formik.touched.email &&\n                                        formik.errors.email) ||\n                                    regiErr\n                                }\n                            />\n                        </Grid>\n                        <Grid item xs={12}>\n                            <TextField\n                                variant=\"outlined\"\n                                required\n                                fullWidth\n                                name=\"password\"\n                                label=\"Password\"\n                                type=\"password\"\n                                id=\"password\"\n                                autoComplete=\"current-password\"\n                                onChange={formik.handleChange}\n                                error={\n                                    formik.touched.password &&\n                                    Boolean(formik.errors.password)\n                                }\n                                helperText={\n                                    formik.touched.password &&\n                                    formik.errors.password\n                                }\n                            />\n                        </Grid>\n                        <Grid item xs={12}>\n                            <TextField\n                                variant=\"outlined\"\n                                required\n                                fullWidth\n                                name=\"confirmPassword\"\n                                label=\"Confirm Password\"\n                                type=\"password\"\n                                id=\"confirmPassword\"\n                                autoComplete=\"current-password\"\n                                onChange={formik.handleChange}\n                                error={\n                                    formik.touched.confirmPassword &&\n                                    Boolean(formik.errors.confirmPassword)\n                                }\n                                helperText={\n                                    formik.touched.confirmPassword &&\n                                    formik.errors.confirmPassword\n                                }\n                            />\n                        </Grid>\n                        <Grid item xs={12}>\n                            <FormControlLabel\n                                control={\n                                    <Checkbox\n                                        value=\"allowExtraEmails\"\n                                        color=\"primary\"\n                                    />\n                                }\n                                label=\"I want to receive inspiration, marketing promotions and updates via email.\"\n                            />\n                        </Grid>\n                    </Grid>\n                    <Button\n                        type=\"submit\"\n                        fullWidth\n                        variant=\"contained\"\n                        color=\"primary\"\n                        className={classes.submit}\n                        disabled={formik.isSubmitting}\n                    >\n                        Sign Up\n                    </Button>\n                    <Grid container justify=\"flex-end\">\n                        <Grid item>\n                            <Link to=\"/login\" variant=\"body2\">\n                                Already have an account? Sign in\n                            </Link>\n                        </Grid>\n                    </Grid>\n                </form>\n            </div>\n            <Box mt={5}>\n                <Copyright />\n            </Box>\n        </Container>\n    );\n}\n","import React, { useContext } from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nimport { AuthContext } from \"./auth\";\n\nfunction AuthRoute({ component: Component, ...rest }) {\n    const { user } = useContext(AuthContext);\n\n    return (\n        <Route\n            {...rest}\n            render={(props) =>\n                user ? <Redirect to=\"/dashboard\" /> : <Component {...props} />\n            }\n        />\n    );\n}\n\nexport default AuthRoute;\n","import React, { useContext } from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nimport { AuthContext } from \"./auth\";\n\nfunction ProtectRoute({ component: Component, ...rest }) {\n    const { user } = useContext(AuthContext);\n\n    return (\n        <Route\n            {...rest}\n            render={(props) =>\n                user ? <Component {...props} /> : <Redirect to=\"/\" />\n            }\n        />\n    );\n}\n\nexport default ProtectRoute;\n","import React from \"react\";\nimport clsx from \"clsx\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\n\nconst useStyles = makeStyles((theme) => ({\n    menubarButton: {\n        fontSize: \"14px\",\n        paddingTop: \"0px\",\n        paddingBottom: \"0px\",\n        paddingLeft: theme.spacing(1),\n        paddingRight: theme.spacing(1),\n        flexShrink: 0,\n\n        textTransform: \"none\",\n    },\n    menuItem: {\n        fontSize: \"14px\",\n        width: \"128px\",\n    },\n    disabledMenuItem: {\n        cursor: \"default\",\n        color: \"rgb(180, 180, 180)!important\",\n        backgroundColor: \"white!important\",\n    },\n}));\n\nexport default function SimpleMenu(props) {\n    const classes = useStyles();\n    const { name, sections } = props.menu;\n    const [anchorEl, setAnchorEl] = React.useState(null);\n\n    const handleClick = (event) => {\n        setAnchorEl(event.currentTarget);\n    };\n\n    return (\n        <div>\n            <Button\n                className={classes.menubarButton}\n                aria-controls=\"name\"\n                aria-haspopup=\"true\"\n                onClick={handleClick}\n                onKeyDown={(e) => {\n                    if (e.key === \"Enter\") {\n                        e.preventDefault();\n                    }\n                }}\n            >\n                {name}\n            </Button>\n            <Menu\n                id=\"name\"\n                anchorEl={anchorEl}\n                getContentAnchorEl={null}\n                anchorOrigin={{ vertical: \"bottom\", horizontal: \"left\" }}\n                transformOrigin={{ vertical: \"top\", horizontal: \"left\" }}\n                keepMounted\n                open={Boolean(anchorEl)}\n                onClose={() => {\n                    setAnchorEl(null);\n                }}\n            >\n                {sections.map((section) => (\n                    <MenuItem\n                        className={clsx(classes.menuItem, {\n                            [classes.disabledMenuItem]:\n                                section.name === \"Save\" &&\n                                !document.getElementById(\"saveMain\"),\n                        })}\n                        onClick={() => {\n                            section.func();\n                            setAnchorEl(null);\n                        }}\n                    >\n                        {section.name}\n                    </MenuItem>\n                ))}\n            </Menu>\n        </div>\n    );\n}\n","import { gql } from \"apollo-boost\";\n\nexport const LOGOUT_Mutation = gql`\n    mutation {\n        logout\n    }\n`;\n","import { gql } from \"apollo-boost\";\n\nexport const UPLOAD_Mutation = gql`\n    mutation upload($id: String!, $picture: String!) {\n        upload(id: $id, picture: $picture)\n    }\n`;\n","import { createContext } from \"react\";\n\nconst AvatarContext = createContext({\n    avatar: String,\n    setAvatar: () => {},\n});\n\nexport { AvatarContext };\n","import React, {\n    useState,\n    useCallback,\n    useRef,\n    useEffect,\n    useContext,\n} from \"react\";\nimport ReactCrop from \"react-image-crop\";\nimport \"react-image-crop/dist/ReactCrop.css\";\nimport { useMutation } from \"@apollo/react-hooks\";\nimport { UPLOAD_Mutation } from \"../../graphql/upload\";\nimport { AuthContext } from \"../../routes/auth\";\nimport Button from \"@material-ui/core/Button\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport { AvatarContext } from \"../../context/avatarContext\";\n\nasync function generateDownload(canvas, crop, upload, id, setAvatar) {\n    try {\n        if (!crop || !canvas) {\n            return;\n        }\n        let url = canvas.toDataURL(\"image/png\");\n        await upload({\n            variables: {\n                id,\n                picture: url,\n            },\n        });\n        setAvatar(url);\n    } catch (err) {\n        console.log(err);\n        return err;\n    }\n}\n\nconst useStyles = makeStyles((theme) => ({\n    avatar: {\n        height: \"128px\",\n        width: \"128px\",\n    },\n    headerAvatar: {\n        height: \"48px\",\n        width: \"48px\",\n        marginLeft: theme.spacing(1),\n        marginRight: theme.spacing(1),\n    },\n    headerAvatarWrapper: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n    },\n    avatarWrapper: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        marginBottom: theme.spacing(3),\n    },\n    dialogButton: {\n        width: \"50%\",\n        fontSize: \"18px\",\n        textTransform: \"none\",\n    },\n    dialog: {},\n    input: {\n        display: \"none\",\n    },\n}));\n\nexport default function Crop() {\n    const {\n        user: { userId: id },\n    } = useContext(AuthContext);\n    const { setAvatar } = useContext(AvatarContext);\n    const classes = useStyles();\n    const [upload] = useMutation(UPLOAD_Mutation);\n    const [upImg, setUpImg] = useState();\n    const imgRef = useRef(null);\n    const previewCanvasRef = useRef(null);\n    const [crop, setCrop] = useState({\n        width: 50,\n        height: 50,\n        aspect: 1 / 1,\n    });\n    const [completedCrop, setCompletedCrop] = useState(null);\n\n    const onSelectFile = (e) => {\n        if (e.target.files && e.target.files.length > 0) {\n            const reader = new FileReader();\n            reader.addEventListener(\"load\", () => setUpImg(reader.result));\n            reader.readAsDataURL(e.target.files[0]);\n        }\n    };\n\n    const onLoad = useCallback((img) => {\n        imgRef.current = img;\n    }, []);\n\n    useEffect(() => {\n        if (!completedCrop || !previewCanvasRef.current || !imgRef.current) {\n            return;\n        }\n\n        const image = imgRef.current;\n        const canvas = previewCanvasRef.current;\n        const crop = completedCrop;\n\n        const scaleX = image.naturalWidth / image.width;\n        const scaleY = image.naturalHeight / image.height;\n        const ctx = canvas.getContext(\"2d\");\n        const pixelRatio = window.devicePixelRatio;\n\n        canvas.width = crop.width * pixelRatio;\n        canvas.height = crop.height * pixelRatio;\n\n        ctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n        ctx.imageSmoothingQuality = \"high\";\n\n        ctx.drawImage(\n            image,\n            crop.x * scaleX,\n            crop.y * scaleY,\n            crop.width * scaleX,\n            crop.height * scaleY,\n            0,\n            0,\n            crop.width,\n            crop.height\n        );\n    }, [completedCrop]);\n\n    return (\n        <>\n            <div style={{ height: \"60vh\", width: \"60vw\" }}>\n                <ReactCrop\n                    src={upImg}\n                    onImageLoaded={onLoad}\n                    crop={crop}\n                    onChange={(c) => setCrop(c)}\n                    onComplete={(c) => setCompletedCrop(c)}\n                    circularCrop\n                />\n                <div>\n                    <canvas\n                        ref={previewCanvasRef}\n                        // Rounding is important so the canvas width and height matches/is a multiple for sharpness.\n                        style={{\n                            width: Math.round(completedCrop?.width ?? 0),\n                            height: Math.round(completedCrop?.height ?? 0),\n                            display: \"none\",\n                        }}\n                    />\n                </div>\n            </div>\n            <DialogActions>\n                <input\n                    accept=\"image/*\"\n                    className={classes.input}\n                    id=\"contained-button-file\"\n                    type=\"file\"\n                    onChange={onSelectFile}\n                />\n                <label htmlFor=\"contained-button-file\">\n                    <Button\n                        className={classes.dialogButton}\n                        onClick={() => {}}\n                        color=\"primary\"\n                        component=\"span\"\n                    >\n                        Upload\n                    </Button>\n                </label>\n\n                <Button\n                    className={classes.dialogButton}\n                    disabled={!completedCrop?.width || !completedCrop?.height}\n                    onClick={() =>\n                        generateDownload(\n                            previewCanvasRef.current,\n                            completedCrop,\n                            upload,\n                            id,\n                            setAvatar\n                        )\n                    }\n                    color=\"primary\"\n                >\n                    Save\n                </Button>\n            </DialogActions>\n        </>\n    );\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport Crop from \"./crop\";\n\nconst useStyles = makeStyles((theme) => ({\n    avatar: {\n        height: \"128px\",\n        width: \"128px\",\n    },\n    headerAvatar: {\n        height: \"48px\",\n        width: \"48px\",\n        marginLeft: theme.spacing(1),\n        marginRight: theme.spacing(1),\n    },\n    headerAvatarWrapper: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n    },\n    avatarWrapper: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        marginBottom: theme.spacing(3),\n    },\n    dialogButton: {\n        width: \"50%\",\n        fontSize: \"18px\",\n        textTransform: \"none\",\n    },\n    dialog: {},\n}));\n\nexport default function UploadDialog(props) {\n    const classes = useStyles();\n    const { onClose, open } = props;\n\n    return (\n        <Dialog\n            maxWidth=\"xl\"\n            open={open}\n            onClose={onClose}\n            aria-labelledby=\"avatarUpload\"\n        >\n            <DialogTitle id=\"avatarUpload\">Upload Avatar</DialogTitle>\n            <Crop />\n        </Dialog>\n    );\n}\n","import React, { useContext } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Dialog from \"@material-ui/core/Dialog\";\n\nimport { useHistory } from \"react-router-dom\";\nimport { useMutation } from \"@apollo/react-hooks\";\nimport { LOGOUT_Mutation } from \"../../graphql/logout\";\nimport { AuthContext } from \"../../routes/auth\";\nimport { getAccessToken, setAccessToken } from \"../../accessToken\";\n\nimport UploadDialog from \"./UploadDialog\";\n\nconst useStyles = makeStyles((theme) => ({\n    avatar: {\n        height: \"128px\",\n        width: \"128px\",\n    },\n    headerAvatar: {\n        height: \"48px\",\n        width: \"48px\",\n        marginLeft: theme.spacing(1),\n        marginRight: theme.spacing(1),\n    },\n    headerAvatarWrapper: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n    },\n    avatarWrapper: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        marginBottom: theme.spacing(3),\n    },\n    dialogButton: {\n        width: \"256px\",\n        fontSize: \"18px\",\n        textTransform: \"none\",\n    },\n    dialog: {},\n}));\n\nfunction SimpleDialog(props) {\n    const classes = useStyles();\n    const context = useContext(AuthContext);\n    const history = useHistory();\n    const [logout] = useMutation(LOGOUT_Mutation);\n\n    const { onClose, onOpen, selectedValue, open, avatar_src } = props;\n\n    const handleClose = () => {\n        onClose(selectedValue);\n    };\n\n    return (\n        <Dialog\n            className={classes.dialog}\n            onClose={handleClose}\n            aria-labelledby=\"account-dialog-title\"\n            open={open}\n        >\n            <DialogTitle id=\"account-dialog-title\">Account</DialogTitle>\n            <div className={classes.avatarWrapper}>\n                <img\n                    className={classes.avatar}\n                    src={avatar_src}\n                    alt=\"avatar\"\n                ></img>\n            </div>\n            <Button onClick={onOpen} className={classes.dialogButton}>\n                Change avatar\n            </Button>\n            <Button\n                className={classes.dialogButton}\n                onClick={async (e) => {\n                    e.preventDefault();\n                    await logout();\n                    setAccessToken(\"\");\n                    if (!getAccessToken()) {\n                        history.push(\"/\");\n                        context.logout();\n                    }\n                }}\n            >\n                Log out\n            </Button>\n        </Dialog>\n    );\n}\n\nexport default function AccountDialog(props) {\n    const classes = useStyles();\n    const [open, setOpen] = React.useState(false);\n    const [uploadOpen, setUploadOpen] = React.useState(false);\n    const [selectedValue, setSelectedValue] = React.useState(0);\n\n    const handleClickOpen = () => {\n        setOpen(true);\n    };\n\n    const handleClose = (value) => {\n        setOpen(false);\n        setSelectedValue(value);\n    };\n\n    const handleUploadClose = () => {\n        setUploadOpen(false);\n    };\n\n    return (\n        <div className={classes.headerAvatarWrapper}>\n            <img\n                className={classes.headerAvatar}\n                src={props.src}\n                alt=\"#\"\n                onClick={handleClickOpen}\n            />\n            <SimpleDialog\n                selectedValue={selectedValue}\n                open={open}\n                onClose={handleClose}\n                onOpen={() => {\n                    handleClose();\n                    setUploadOpen(true);\n                }}\n                avatar_src={props.src}\n            />\n            <UploadDialog\n                open={uploadOpen}\n                onClose={() => {\n                    handleUploadClose();\n                    handleClickOpen();\n                }}\n            />\n        </div>\n    );\n}\n","import { createContext } from \"react\";\n\nconst filecontext = createContext({\n  usernotes: [],\n  openFiles: [],\n  currentOpenFile: \"\",\n  setcurrentOpenFile: (data) => {},\n  setuserNotes: (data) => {},\n  setopenFiles: (data) => {},\n  actions: null,\n});\n\nexport { filecontext };\n","import React, { useContext } from \"react\";\n\nimport { filecontext } from \"../../context/filetree\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\n\nconst useStyles = makeStyles(() => ({\n    dialogButton: {\n        width: \"256px\",\n        fontSize: \"18px\",\n        textTransform: \"none\",\n    },\n    dialog: {},\n}));\n\nexport default function RenameDialog(props) {\n    const classes = useStyles();\n    const { usernotes, actions } = useContext(filecontext);\n    const [title, setTitle] = React.useState(\"\");\n    const [valid, setValid] = React.useState(true);\n    const [helper, setHelper] = React.useState(\"\");\n\n    const handleTitle = (val) => {\n        setTitle(val);\n        setValid(true);\n    };\n\n    const handleCreate = () => {\n        // check title validity\n        if (!title) {\n            setValid(false);\n            setHelper(\"empty name!\");\n            return;\n        }\n        if (usernotes.findIndex((notes) => notes.title === title) !== -1) {\n            setValid(false);\n            setHelper(\"name existed!\");\n            return;\n        }\n        actions.new(title);\n        props.closeFunc();\n    };\n\n    return (\n        <Dialog open={true} aria-labelledby=\"name-dialog-title\">\n            <DialogTitle id=\"name-dialog-title\">File name</DialogTitle>\n            <DialogContent>\n                <TextField\n                    autoFocus\n                    error={!valid}\n                    helperText={!valid ? helper : \"\"}\n                    margin=\"dense\"\n                    id=\"createBox\"\n                    label=\"new name\"\n                    fullWidth\n                    onChange={(e) => handleTitle(e.target.value)}\n                    onKeyDown={(e) => {\n                        e.preventDefault();\n                        if (e.key === \"Enter\") {\n                            handleCreate();\n                        }\n                    }}\n                />\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={props.closeFunc} color=\"primary\">\n                    Cancel\n                </Button>\n                <Button onClick={handleCreate} color=\"primary\">\n                    OK\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","export default __webpack_public_path__ + \"static/media/icon.820aa80a.jpg\";","import React, { useContext } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Box from \"@material-ui/core/Box\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SettingsIcon from \"@material-ui/icons/Settings\";\nimport SimpleMenu from \"./MenuItem\";\nimport AccountDialog from \"./AccountDialog\";\nimport NewDialog from \"./NewDialog\";\nimport icon from \"../../icons/icon.jpg\";\nimport user from \"../../icons/avatar.png\";\nimport { AvatarContext } from \"../../context/avatarContext\";\n\nconst useStyles = makeStyles((theme) => ({\n    headerWrapper: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        alignItems: \"center\",\n        flexWrap: \"nowrap\",\n        borderBottom: `1px solid ${theme.palette.divider}`,\n        zIndex: theme.zIndex.drawer + 1,\n    },\n    icon: {\n        height: \"48px\",\n        width: \"48px\",\n        marginLeft: theme.spacing(1),\n        marginRight: theme.spacing(1),\n    },\n    mainWrapper: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexGrow: 1,\n    },\n    titlebar: {\n        fontSize: \"20px\",\n        height: \"32px\",\n        margin: theme.spacing(1),\n        border: \"1px transparent\",\n    },\n    menubar: {\n        minHeight: \"0px\",\n        padding: \"0px\",\n        overflowX: \"auto\",\n    },\n}));\n\nexport default function Header() {\n    const classes = useStyles();\n    const [openNewDialog, setOpenNewDialog] = React.useState(false);\n    const { avatar } = useContext(AvatarContext);\n\n    const file_menu = {\n        name: \"File\",\n        sections: [\n            {\n                name: \"New\",\n                func: () => {\n                    setOpenNewDialog(true);\n                },\n            },\n            {\n                name: \"Save\",\n                func: () => {\n                    let saveButton = document.getElementById(\"saveMain\");\n                    if (saveButton) {\n                        saveButton.click();\n                    }\n                },\n            },\n        ],\n    };\n\n    return (\n        <React.Fragment>\n            <Box className={classes.headerWrapper}>\n                <img className={classes.icon} src={icon} alt=\"#\" />\n                <Box className={classes.mainWrapper}>\n                    <input\n                        className={classes.titlebar}\n                        defaultValue=\"Welcome to AAA\"\n                    />\n                    <Toolbar\n                        component=\"nav\"\n                        variant=\"dense\"\n                        className={classes.menubar}\n                    >\n                        <SimpleMenu menu={file_menu}></SimpleMenu>\n                        {openNewDialog ? (\n                            <NewDialog\n                                closeFunc={() => {\n                                    setOpenNewDialog(false);\n                                }}\n                            ></NewDialog>\n                        ) : null}\n                    </Toolbar>\n                </Box>\n                <IconButton>\n                    <SettingsIcon fontSize=\"large\" />\n                </IconButton>\n                <AccountDialog src={avatar ? avatar : user}></AccountDialog>\n            </Box>\n        </React.Fragment>\n    );\n}\n","export default \"data:image/png;base64,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\"","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\n\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\n\nconst useStyles = makeStyles((theme) => ({\n    dialogButton: {\n        width: \"128px\",\n        fontSize: \"18px\",\n        textTransform: \"none\",\n    },\n    dialog: {},\n}));\n\nexport default function SaveDialog(props) {\n    const classes = useStyles();\n    const { updFunc, closeFunc } = props.func;\n\n    return (\n        <Dialog open={true} aria-labelledby=\"save-dialog-title\">\n            <DialogTitle id=\"save-dialog-title\">Save File?</DialogTitle>\n            <DialogActions>\n                <Button\n                    className={classes.dialogButton}\n                    onClick={updFunc}\n                    color=\"primary\"\n                >\n                    Yes\n                </Button>\n                <Button\n                    className={classes.dialogButton}\n                    onClick={closeFunc}\n                    color=\"primary\"\n                >\n                    No\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import React from \"react\";\nimport ReactMarkdown from \"react-markdown\";\nimport RemarkMathPlugin from \"remark-math\";\nimport { BlockMath, InlineMath } from \"react-katex\";\nimport { Prism as SyntaxHighlighter } from \"react-syntax-highlighter\";\nimport { dark } from \"react-syntax-highlighter/dist/esm/styles/prism\";\nimport gfm from \"remark-gfm\";\nimport \"katex/dist/katex.min.css\";\n\nconst _mapProps = (props) => ({\n    ...props,\n    escapeHtml: false,\n    plugins: [[gfm, { singleTilde: false }], RemarkMathPlugin],\n    renderers: {\n        ...props.renderers,\n        code: ({ language, value }) => {\n            if (value) {\n                return (\n                    <SyntaxHighlighter\n                        style={dark}\n                        language={language}\n                        children={value}\n                    />\n                );\n            } else {\n                return (\n                    <>\n                        <>{\"~~~\" + language}</>\n                        <br></br>\n                        <>~~~</>\n                    </>\n                );\n            }\n        },\n        math: ({ value }) => <BlockMath>{value}</BlockMath>,\n        inlineMath: ({ value }) => <InlineMath>{value}</InlineMath>,\n    },\n});\n\nconst Markdown = (props) => <ReactMarkdown {..._mapProps(props)} />;\n\nexport default Markdown;\n","import { gql } from \"apollo-boost\";\n\nexport const UPDNOTE_Mutation = gql`\n    mutation updateNote(\n        $id: String!\n        $email: String!\n        $title: String\n        $markdown: String\n        $tags: [String]\n        $links: [String]\n    ) {\n        updateNote(\n            data: {\n                id: $id\n                email: $email\n                title: $title\n                markdown: $markdown\n                tags: $tags\n                links: $links\n            }\n        )\n    }\n`;\n","import React, { useContext, useEffect } from \"react\";\nimport { filecontext } from \"../../context/filetree\";\nimport clsx from \"clsx\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Divider from \"@material-ui/core/Divider\";\n\nimport Chip from \"@material-ui/core/Chip\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport VisibilityIcon from \"@material-ui/icons/Visibility\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport SaveDialog from \"./SaveDialog\";\n\nimport Markdown from \"./Markdown\";\nimport { useMutation } from \"@apollo/react-hooks\";\nimport { UPDNOTE_Mutation } from \"../../graphql/updateNote\";\nimport { AuthContext } from \"../../routes/auth\";\n\nconst pageBarHeight = 24;\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexGrow: 1,\n    },\n    pageBar: {\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        alignItems: \"center\",\n        listStyle: \"none\",\n        margin: 0,\n        height: pageBarHeight,\n        overflowY: \"auto\",\n\n        backgroundColor: \"#E0E0E0\",\n    },\n    chip: {\n        margin: \"0px\",\n        borderRadius: \"0px\",\n        borderRight: `2px solid ${theme.palette.divider}`,\n        borderBottom: `1px solid ${theme.palette.divider}`,\n    },\n    chipRoot: {\n        transform: \"none\",\n        \"&:focus\": {\n            backgroundColor: \"white\",\n        },\n        \"&:hover\": {\n            backgroundColor: theme.palette.action.hover,\n        },\n    },\n    chipText: {\n        width: theme.spacing(12),\n        textAlign: \"left\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n    },\n    chipFocus: {\n        backgroundColor: \"white\",\n        borderBottom: \"1px solid white!important\",\n        \"&:hover\": {\n            backgroundColor: \"white\",\n        },\n    },\n    markdown: {\n        padding: theme.spacing(3, 0),\n    },\n    mainWindowWrapper: {\n        display: \"flex\",\n        flexGrow: 1,\n        position: \"relative\",\n    },\n    mainWindow: {\n        display: \"flex\",\n        width: \"50%\",\n        borderRadius: \"0px\",\n        overflow: \"auto\",\n    },\n    viewWindow: {\n        display: \"flex\",\n        width: \"50%\",\n        borderRadius: \"0px\",\n        overflow: \"auto\",\n    },\n    modeButtonWrapper: {\n        display: \"flex\",\n        position: \"absolute\",\n        top: \"6px\",\n        right: \"6px\",\n        borderRadius: \"16px\",\n        border: \"1px solid black\",\n    },\n    nopad: {\n        padding: \"0px\",\n        margin: \"0px 3px\",\n    },\n    inputStyle: {\n        width: \"100%\",\n        height: \"calc(100vh - 130px)\",\n        fontSize: \"18px\",\n        padding: theme.spacing(2, 4),\n        resize: \"none\",\n        border: \"none\",\n        outline: \"none\",\n        overflow: \"auto\",\n    },\n    outputStyle: {\n        width: \"100%\",\n        height: \"calc(100vh - 130px)\",\n        fontSize: \"18px\",\n        textAlign: \"left\",\n        backgroundColor: \"white\",\n        padding: theme.spacing(2, 4),\n        overflow: \"auto\",\n    },\n}));\n\nexport default function Main() {\n    const [updNote] = useMutation(UPDNOTE_Mutation);\n    const {\n        user: { email },\n    } = useContext(AuthContext);\n    const classes = useStyles();\n    const theme = useTheme();\n    const { usernotes, openFiles, currentOpenFile, actions } = useContext(\n        filecontext\n    );\n\n    const [mode, setMode] = React.useState(\"main\");\n    const [pageNum, setPageNum] = React.useState(0);\n    const [pages, setPages] = React.useState([]);\n    const [openDialog, setOpenDialog] = React.useState(false);\n    const [dialogFunctions, setDialogFunctions] = React.useState({});\n\n    // add page in frontend\n    const addPage = (node) => {\n        setPages([...pages, node]);\n        setPageNum(pageNum + 1);\n        console.log(pages);\n    };\n\n    useEffect(() => {\n        if (openFiles.length > pageNum) {\n            let fileID = openFiles[openFiles.length - 1];\n            let node = Object.assign(\n                { unsaved: false },\n                usernotes.find((e) => e.id === fileID)\n            );\n            console.log(node);\n            addPage(node);\n        }\n    }, [openFiles]);\n\n    // delete page\n    const handleDelete = (id) => {\n        let chipToDelete = openFiles.indexOf(id);\n        if (pages[chipToDelete].unsaved) {\n            setOpenDialog(true);\n            setDialogFunctions({\n                updFunc: async (e) => {\n                    await save(id);\n                    deletePage(id);\n                    setOpenDialog(false);\n                },\n                closeFunc: () => {\n                    deletePage(id);\n                    setOpenDialog(false);\n                },\n            });\n        } else {\n            deletePage(id);\n        }\n    };\n    const deletePage = (id) => {\n        let chipToDelete = openFiles.indexOf(id);\n\n        // set backend openFiles\n        actions.close(id);\n\n        // set frontend pages\n        let updPages = pages.filter((data, index) => index !== chipToDelete);\n        setPages(updPages);\n\n        // set pageNum\n        setPageNum(pageNum - 1);\n    };\n\n    const handleMode = (updMode) => {\n        setMode(updMode);\n    };\n\n    const handleContentData = (val) => {\n        let currentPageIndex = openFiles.indexOf(currentOpenFile);\n        let updPages = [...pages];\n        updPages[currentPageIndex].markdown = val;\n        updPages[currentPageIndex].unsaved = true;\n        setPages(updPages);\n    };\n\n    const save = async (fileID) => {\n        let currentPageIndex = openFiles.indexOf(fileID);\n        const { id, title, markdown, tags, unsaved } = pages[currentPageIndex];\n        if (unsaved) {\n            try {\n                const regex = /\\[\\[(\\w*?)\\]\\]/gm;\n                const str = markdown;\n                let g;\n                let links = [];\n                while ((g = regex.exec(str)) !== null) {\n                    // This is necessary to avoid infinite loops with zero-width matches\n                    if (g.index === regex.lastIndex) {\n                        regex.lastIndex++;\n                    }\n\n                    // The result can be accessed through the `m`-variable.\n                    g.forEach((match, groupIndex) => {\n                        console.log(\n                            `Found match, group ${groupIndex}: ${match}`\n                        );\n                        if (groupIndex === 1) links.push(match);\n                    });\n                }\n                let newPages = [...pages];\n                newPages[currentPageIndex].links = links;\n                actions.save(fileID, {\n                    id,\n                    title,\n                    markdown,\n                    tags,\n                    links,\n                });\n                newPages[currentPageIndex].unsaved = false;\n                setPages(newPages);\n                await updNote({\n                    variables: { id, email, markdown, links },\n                });\n            } catch (err) {\n                console.log(err);\n            }\n        }\n    };\n\n    return (\n        <div className={classes.root}>\n            <CssBaseline />\n            {openFiles.length === 0 ? (\n                <div className={classes.mainWindowWrapper}>No Page</div>\n            ) : (\n                <>\n                    <div className={classes.pageBar}>\n                        {openFiles.map((fileID, index) => {\n                            return (\n                                <li key={index}>\n                                    <Chip\n                                        size=\"small\"\n                                        label={\n                                            usernotes.find(\n                                                (e) => e.id === fileID\n                                            ).title\n                                        }\n                                        disableRipple={true}\n                                        onClick={(e) => {\n                                            actions.open(fileID);\n                                            document\n                                                .getElementsByClassName(\n                                                    \"input\"\n                                                )[0]\n                                                .focus();\n                                        }}\n                                        onDelete={() => handleDelete(fileID)}\n                                        className={clsx(classes.chip, {\n                                            [classes.chipFocus]:\n                                                fileID === currentOpenFile,\n                                        })}\n                                        classes={{\n                                            root: classes.chipRoot,\n                                            label: classes.chipText,\n                                        }}\n                                    />\n                                </li>\n                            );\n                        })}\n                        <div\n                            style={{\n                                flexGrow: 1,\n                                height: pageBarHeight,\n                                borderBottom: `1px solid ${theme.palette.divider}`,\n                            }}\n                        ></div>\n                    </div>\n                    <div className={classes.mainWindowWrapper}>\n                        <div className={classes.modeButtonWrapper}>\n                            <IconButton\n                                color={mode === \"main\" ? \"inherit\" : \"default\"}\n                                onClick={() => handleMode(\"main\")}\n                                classes={{\n                                    root: classes.nopad,\n                                }}\n                                disableRipple={true}\n                            >\n                                <EditIcon />\n                            </IconButton>\n                            <IconButton\n                                color={mode === \"mix\" ? \"inherit\" : \"default\"}\n                                onClick={() => handleMode(\"mix\")}\n                                classes={{\n                                    root: classes.nopad,\n                                }}\n                                disableRipple={true}\n                            >\n                                <VisibilityIcon />\n                            </IconButton>\n                            {pageNum === openFiles.length &&\n                            pages[openFiles.indexOf(currentOpenFile)]\n                                .unsaved ? (\n                                <IconButton\n                                    id=\"saveMain\"\n                                    onClick={() => save(currentOpenFile)}\n                                    classes={{\n                                        root: classes.nopad,\n                                    }}\n                                    disableRipple={true}\n                                >\n                                    <SaveIcon />\n                                </IconButton>\n                            ) : null}\n                            {openDialog ? (\n                                <SaveDialog func={dialogFunctions}></SaveDialog>\n                            ) : null}\n                        </div>\n                        {mode === \"main\" || mode === \"mix\" ? (\n                            <Paper\n                                elevation={0}\n                                className={classes.mainWindow}\n                                style={mode === \"main\" ? { width: \"100%\" } : {}}\n                            >\n                                <textarea\n                                    autoFocus\n                                    className={`input ${classes.inputStyle}`}\n                                    value={\n                                        pageNum === openFiles.length\n                                            ? pages[\n                                                  openFiles.indexOf(\n                                                      currentOpenFile\n                                                  )\n                                              ].markdown\n                                            : \"\"\n                                    }\n                                    onChange={(e) => {\n                                        handleContentData(e.target.value);\n                                    }}\n                                ></textarea>\n                            </Paper>\n                        ) : (\n                            <></>\n                        )}\n                        {mode === \"mix\" ? (\n                            <Divider orientation=\"vertical\"></Divider>\n                        ) : null}\n                        {mode === \"view\" || mode === \"mix\" ? (\n                            <Paper\n                                elevation={0}\n                                className={classes.viewWindow}\n                                style={mode === \"view\" ? { width: \"100%\" } : {}}\n                            >\n                                <Markdown\n                                    className={`input ${classes.outputStyle}`}\n                                >\n                                    {pageNum === openFiles.length\n                                        ? pages[\n                                              openFiles.indexOf(currentOpenFile)\n                                          ].markdown\n                                        : \"\"}\n                                </Markdown>\n                            </Paper>\n                        ) : (\n                            <></>\n                        )}\n                    </div>\n                </>\n            )}\n        </div>\n    );\n}\n","import { gql } from \"apollo-boost\";\n\nexport const NOTES_QUERY = gql`\n    query usernotes($email: String!) {\n        usernotes(email: $email) {\n            id\n            tags\n            links\n            markdown\n            title\n        }\n    }\n`;\n","import { gql } from \"apollo-boost\";\n\nexport const AVATAR_QUERY = gql`\n    query userAvatar($id: String!) {\n        userAvatar(id: $id)\n    }\n`;\n","import { createContext } from \"react\";\n\nconst mainContext = createContext({\n    mode: String,\n    setMode: () => {},\n    open: Boolean,\n    setOpen: () => {},\n    searchStr: String,\n    setSearchStr: () => {},\n});\n\nexport { mainContext };\n","import React, { useContext, useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport List from \"@material-ui/core/List\";\nimport Divider from \"@material-ui/core/Divider\";\n\nimport ListItem from \"@material-ui/core/ListItem\";\n\nimport ListItemText from \"@material-ui/core/ListItemText\";\n\nimport { filecontext } from \"../../context/filetree\";\nimport { mainContext } from \"../../context/mainContext\";\n\nconst useStyles = makeStyles((theme) => ({\n    titlebar: {\n        flexGrow: 1,\n        fontSize: \"14px\",\n        margin: theme.spacing(1),\n        outline: \"none\",\n        padding: \"1px 6px\",\n        borderRadius: \"12px\",\n        borderColor: `${theme.palette.divider}`,\n        \"&:focus\": {\n            borderColor: theme.palette.text.primary,\n        },\n    },\n}));\n\nexport default function SearchBox() {\n    const classes = useStyles();\n    const { usernotes, actions } = useContext(filecontext);\n    const { searchStr, setSearchStr } = useContext(mainContext);\n    //const [searchStr, setSearchStr] = useState(\"\");\n    const [showingItem, setShowingItem] = useState([]);\n\n    const search = (e) => {\n        setSearchStr(e.target.value);\n    };\n\n    useEffect(() => {\n        if (searchStr) {\n            if (searchStr.slice(0, 5) === \"tags:\") {\n                let alltags = [];\n                usernotes.forEach((e) => {\n                    let { title, id, markdown } = e;\n                    e.tags.forEach((ele) => {\n                        if (ele === searchStr.slice(6)) {\n                            console.log(\"success\");\n                            alltags.push({ title, id, markdown });\n                        }\n                    });\n                });\n                console.log(\"search tag\");\n                setShowingItem(alltags);\n            } else {\n                let allfiles = [];\n                usernotes.forEach((e) => {\n                    let { title, id, markdown } = e;\n                    if (\n                        e.markdown.includes(searchStr) ||\n                        e.title.includes(searchStr)\n                    ) {\n                        allfiles.push({ title, id, markdown });\n                    }\n                });\n                console.log(\"search files\");\n                setShowingItem(allfiles);\n            }\n        } else setShowingItem([]);\n\n        return () => {};\n    }, [searchStr]);\n\n    return (\n        <>\n            <CssBaseline />\n            <div style={{ display: \"flex\" }}>\n                <input\n                    id=\"searchbox\"\n                    className={classes.titlebar}\n                    placeholder=\"Search files or tags\"\n                    onChange={search}\n                    value={searchStr}\n                />\n            </div>\n            <Divider style={{ height: \"3px\" }} />\n            <div style={{ flexGrow: 1, overflowY: \"auto\" }}>\n                <List disablePadding={true}>\n                    {showingItem.map((obj, index) => (\n                        <>\n                            <ListItem\n                                button\n                                key={index}\n                                onClick={() => {\n                                    actions.open(obj.id);\n                                    if (\n                                        document.getElementsByClassName(\n                                            \"input\"\n                                        )[0]\n                                    )\n                                        document\n                                            .getElementsByClassName(\"input\")[0]\n                                            .focus();\n                                }}\n                            >\n                                <ListItemText primary={obj.title} />\n                            </ListItem>\n                            <Divider />\n                        </>\n                    ))}\n                </List>\n            </div>\n        </>\n    );\n}\n","import React, { useContext } from \"react\";\nimport { filecontext } from \"../../context/filetree\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\n\nconst useStyles = makeStyles(() => ({\n    dialogButton: {\n        width: \"256px\",\n        fontSize: \"18px\",\n        textTransform: \"none\",\n    },\n    dialog: {},\n}));\n\nexport default function RenameDialog(props) {\n    const classes = useStyles();\n    const { usernotes, actions } = useContext(filecontext);\n    const [title, setTitle] = React.useState(\"\");\n    const [valid, setValid] = React.useState(true);\n    const [helper, setHelper] = React.useState(\"\");\n\n    const handleTitle = (val) => {\n        setTitle(val);\n        setValid(true);\n    };\n\n    const handleRename = () => {\n        // check title validity\n        if (!title) {\n            setValid(false);\n            setHelper(\"empty name!\");\n            return;\n        }\n        if (usernotes.findIndex((notes) => notes.title === title) !== -1) {\n            setValid(false);\n            setHelper(\"name existed!\");\n            return;\n        }\n        actions.rename(props.fileID, title);\n        props.closeFunc();\n    };\n\n    return (\n        <Dialog\n            open={true}\n            aria-labelledby={`form-dialog-title_${props.fileID}`}\n        >\n            <DialogTitle id={`form-dialog-title_${props.fileID}`}>\n                New name\n            </DialogTitle>\n            <DialogContent>\n                <TextField\n                    autoFocus\n                    error={!valid}\n                    helperText={!valid ? helper : \"\"}\n                    margin=\"dense\"\n                    id={`renameBox_${props.fileID}`}\n                    label=\"new name\"\n                    fullWidth\n                    onChange={(e) => handleTitle(e.target.value)}\n                    onKeyDown={(e) => {\n                        if (e.key === \"Enter\") {\n                            e.preventDefault();\n                            handleRename();\n                        }\n                    }}\n                />\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={props.closeFunc} color=\"primary\">\n                    Cancel\n                </Button>\n                <Button onClick={handleRename} color=\"primary\">\n                    OK\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import React, { useContext } from \"react\";\nimport { filecontext } from \"../../context/filetree\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\n\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\n\nconst useStyles = makeStyles((theme) => ({\n    dialogButton: {\n        width: \"128px\",\n        fontSize: \"18px\",\n        textTransform: \"none\",\n    },\n    dialog: {},\n}));\n\nexport default function DeleteDialog(props) {\n    const classes = useStyles();\n    const { actions } = useContext(filecontext);\n\n    return (\n        <Dialog\n            open={true}\n            aria-labelledby={`delete-dialog-title_${props.fileID}`}\n        >\n            <DialogTitle id={`delete-dialog-title_${props.fileID}`}>\n                {`Delete ${props.title}?`}\n            </DialogTitle>\n            <DialogActions>\n                <Button\n                    className={classes.dialogButton}\n                    onClick={() => {\n                        actions.delete(props.fileID);\n                        props.closeFunc();\n                    }}\n                    color=\"primary\"\n                >\n                    Yes\n                </Button>\n                <Button\n                    className={classes.dialogButton}\n                    onClick={props.closeFunc}\n                    color=\"primary\"\n                >\n                    No\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import React, { useContext } from \"react\";\nimport { filecontext } from \"../../context/filetree\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\n\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FolderIcon from \"@material-ui/icons/Folder\";\nimport InsertDriveFileIcon from \"@material-ui/icons/InsertDriveFile\";\n\nimport RenameDialog from \"./RenameDialog\";\nimport DeleteDialog from \"./DeleteDialog\";\n\nconst useStyles = makeStyles((theme) => ({\n    labelIcon: {\n        marginRight: theme.spacing(0.5),\n    },\n    labelText: {\n        textAlign: \"left\",\n        fontSize: \"16px\",\n        fontWeight: \"inherit\",\n        overflow: \"hidden\",\n        whiteSpace: \"nowrap\",\n        textOverflow: \"ellipsis\",\n    },\n    menuItem: {\n        fontSize: \"14px\",\n        width: \"128px\",\n    },\n}));\n\nexport default function TreeMenu(props) {\n    const classes = useStyles();\n    const node = props.node;\n    const [anchorEl, setAnchorEl] = React.useState(null);\n    const [openRenameDialog, setOpenRenameDialog] = React.useState(false);\n    const [openDeleteDialog, setOpenDeleteDialog] = React.useState(false);\n    const data = useContext(filecontext);\n    const { actions } = data;\n\n    const handleClick = (event) => {\n        event.preventDefault();\n        console.log(event.currentTarget);\n        setAnchorEl(event.currentTarget);\n    };\n\n    return (\n        <div>\n            <div\n                onContextMenu={handleClick}\n                style={{\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    position: \"relative\",\n                }}\n                onClick={(e) => {\n                    console.log(e.button);\n                    if (e.button === 0) {\n                        console.log(e.currentTarget);\n                        console.log(\"it should go here\");\n\n                        actions.open(node.id);\n                        if (document.getElementsByClassName(\"input\")[0])\n                            document.getElementsByClassName(\"input\")[0].focus();\n                    } else if (e.button === 2) {\n                        handleClick();\n                    }\n                }}\n            >\n                {node.type === \"dir\" ? (\n                    <FolderIcon\n                        fontSize=\"small\"\n                        className={classes.labelIcon}\n                    />\n                ) : (\n                    <InsertDriveFileIcon\n                        fontSize=\"small\"\n                        className={classes.labelIcon}\n                    />\n                )}\n\n                <Typography className={classes.labelText}>\n                    {node.title}\n                </Typography>\n            </div>\n            {node.type !== \"dir\" ? (\n                <Menu\n                    id=\"name\"\n                    anchorEl={anchorEl}\n                    getContentAnchorEl={null}\n                    anchorOrigin={{ vertical: \"bottom\", horizontal: \"left\" }}\n                    transformOrigin={{ vertical: \"top\", horizontal: \"left\" }}\n                    keepMounted\n                    open={Boolean(anchorEl)}\n                    onClose={() => {\n                        setAnchorEl(null);\n                    }}\n                    autoFocus={false}\n                >\n                    <MenuItem\n                        className={classes.menuItem}\n                        onClick={() => {\n                            setOpenRenameDialog(true);\n                            setAnchorEl(null);\n                        }}\n                        onKeyDown={(e) => {\n                            if (e.key === \"Enter\") {\n                                e.preventDefault();\n                            }\n                        }}\n                    >\n                        Rename\n                    </MenuItem>\n                    <MenuItem\n                        className={classes.menuItem}\n                        onClick={() => {\n                            setOpenDeleteDialog(true);\n                            setAnchorEl(null);\n                        }}\n                    >\n                        Delete\n                    </MenuItem>\n                </Menu>\n            ) : null}\n            {openRenameDialog ? (\n                <RenameDialog\n                    fileID={node.id}\n                    closeFunc={() => setOpenRenameDialog(false)}\n                ></RenameDialog>\n            ) : null}\n            {openDeleteDialog ? (\n                <DeleteDialog\n                    fileID={node.id}\n                    title={node.title}\n                    closeFunc={() => setOpenDeleteDialog(false)}\n                ></DeleteDialog>\n            ) : null}\n        </div>\n    );\n}\n","import React, { useContext } from \"react\";\nimport { filecontext } from \"../../context/filetree\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TreeView from \"@material-ui/lab/TreeView\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport ChevronRightIcon from \"@material-ui/icons/ChevronRight\";\nimport TreeItem from \"@material-ui/lab/TreeItem\";\nimport TreeMenu from \"./TreeMenuItem\";\n\nimport { AuthContext } from \"../../routes/auth\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        height: 110,\n        flexGrow: 1,\n        maxWidth: 400,\n        paddingTop: \"6px\",\n    },\n    labelIcon: {\n        marginRight: theme.spacing(0.5),\n    },\n    labelText: {\n        textAlign: \"left\",\n        fontSize: \"16px\",\n        fontWeight: \"inherit\",\n        overflow: \"hidden\",\n        whiteSpace: \"nowrap\",\n        textOverflow: \"ellipsis\",\n    },\n    colorWhite1: {\n        \"&.Mui-selected > .MuiTreeItem-content .MuiTreeItem-label\": {\n            backgroundColor: \"white\",\n        },\n    },\n}));\n\nexport default function FolderTree() {\n    const classes = useStyles();\n    const data = useContext(filecontext);\n    const context = useContext(AuthContext);\n\n    const renderTree = (node) => (\n        <TreeItem\n            key={node.id}\n            nodeId={node.id}\n            label={<TreeMenu node={node}></TreeMenu>}\n            classes={{\n                root: classes.colorWhite1,\n            }}\n        >\n            {Array.isArray(node.usernotes)\n                ? node.usernotes.map((child) => renderTree(child))\n                : null}\n        </TreeItem>\n    );\n\n    return (\n        <>\n            <TreeView\n                className={classes.root}\n                defaultCollapseIcon={<ExpandMoreIcon />}\n                defaultExpanded={[\"root\"]}\n                defaultExpandIcon={<ChevronRightIcon />}\n            >\n                {renderTree({\n                    ...data,\n                    id: \"root\",\n                    title: context.user.name,\n                    type: \"dir\",\n                })}\n            </TreeView>\n        </>\n    );\n}\n","import React, { useState, useContext } from \"react\";\nimport clsx from \"clsx\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport FolderOutlinedIcon from \"@material-ui/icons/FolderOutlined\";\nimport DeviceHubIcon from \"@material-ui/icons/DeviceHub\";\n\nimport SearchBox from \"./SearchBox\";\nimport FolderTree from \"./FolderTree\";\nimport { mainContext } from \"../../context/mainContext\";\n\nconst sidebarWidth = 32;\nconst drawerWidth = 256;\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: sidebarWidth,\n        display: \"flex\",\n    },\n    sidebarWrapper: {\n        width: sidebarWidth,\n        display: \"flex\",\n        alignItems: \"center\",\n        flexDirection: \"column\",\n        borderRight: `1px solid ${theme.palette.divider}`,\n    },\n    nopad: {\n        padding: \"0px\",\n        margin: \"6px 0px\",\n    },\n    rootShift: {\n        transition: theme.transitions.create([\"margin\", \"width\"], {\n            easing: theme.transitions.easing.easeOut,\n            duration: theme.transitions.duration.enteringScreen,\n        }),\n        marginRight: drawerWidth,\n    },\n    drawer: {\n        flexShrink: 0,\n    },\n    drawerPaperWrapper: {\n        position: \"relative\",\n    },\n    drawerPaper: {\n        position: \"absolute\",\n        top: \"0px\",\n        right: sidebarWidth,\n        width: drawerWidth,\n        bottom: \"0px\",\n    },\n}));\n\nexport default function PersistentDrawerLeft() {\n    const classes = useStyles();\n    const { open, setOpen, mode, setMode } = useContext(mainContext);\n    // const [open, setOpen] = useState(false);\n    // const [mode, setMode] = useState(\"search\");\n    const [graphMode, setGraph] = useState(false);\n\n    const handleMode = (updMode) => {\n        setMode(updMode);\n        if (!open) {\n            setOpen(true);\n        }\n        if (open && updMode === mode) {\n            setOpen(false);\n        }\n    };\n\n    const handleGraphMode = () => {\n        setGraph(!graphMode);\n    };\n\n    return (\n        <div className={clsx(classes.root, { [classes.rootShift]: open })}>\n            <CssBaseline />\n            <div className={classes.sidebarWrapper}>\n                <IconButton\n                    color={mode === \"search\" && open ? \"inherit\" : \"default\"}\n                    aria-label=\"open drawer\"\n                    onClick={() => handleMode(\"search\")}\n                    classes={{\n                        root: classes.nopad,\n                    }}\n                    disableRipple={true}\n                >\n                    <SearchIcon />\n                </IconButton>\n                <IconButton\n                    color={mode === \"file\" && open ? \"inherit\" : \"default\"}\n                    aria-label=\"open drawer\"\n                    onClick={() => handleMode(\"file\")}\n                    classes={{\n                        root: classes.nopad,\n                    }}\n                    disableRipple={true}\n                >\n                    <FolderOutlinedIcon />\n                </IconButton>\n                <IconButton\n                    color={graphMode ? \"inherit\" : \"default\"}\n                    aria-label=\"open drawer\"\n                    onClick={handleGraphMode}\n                    classes={{\n                        root: classes.nopad,\n                    }}\n                    disableRipple={true}\n                >\n                    <DeviceHubIcon />\n                </IconButton>\n            </div>\n            <Drawer\n                className={classes.drawer}\n                variant=\"persistent\"\n                anchor=\"left\"\n                open={open}\n                classes={{\n                    paper: classes.drawerPaper,\n                    docked: classes.drawerPaperWrapper,\n                }}\n            >\n                {mode === \"search\" ? (\n                    <SearchBox></SearchBox>\n                ) : (\n                    <FolderTree></FolderTree>\n                )}\n            </Drawer>\n        </div>\n    );\n}\n","import React, { useContext, useState, useEffect } from \"react\";\nimport clsx from \"clsx\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport List from \"@material-ui/core/List\";\nimport Divider from \"@material-ui/core/Divider\";\n\nimport IconButton from \"@material-ui/core/IconButton\";\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\nimport ChevronRightIcon from \"@material-ui/icons/ChevronRight\";\nimport LinkIcon from \"@material-ui/icons/Link\";\nimport LocalOfferOutlinedIcon from \"@material-ui/icons/LocalOfferOutlined\";\n\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\n\nimport { filecontext } from \"../../context/filetree\";\nimport { mainContext } from \"../../context/mainContext\";\n\nconst sidebarWidth = 32;\nconst drawerWidth = 256;\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: sidebarWidth,\n        display: \"flex\",\n    },\n    sidebarWrapper: {\n        width: sidebarWidth,\n        display: \"flex\",\n        alignItems: \"center\",\n        flexDirection: \"column\",\n        borderLeft: `1px solid ${theme.palette.divider}`,\n    },\n    nopad: {\n        padding: \"0px\",\n        margin: \"6px 0px\",\n    },\n    rootShift: {\n        transition: theme.transitions.create([\"margin\", \"width\"], {\n            easing: theme.transitions.easing.easeOut,\n            duration: theme.transitions.duration.enteringScreen,\n        }),\n        marginLeft: drawerWidth,\n    },\n    drawer: {\n        flexShrink: 0,\n    },\n    drawerPaperWrapper: {\n        position: \"relative\",\n    },\n    drawerPaper: {\n        position: \"absolute\",\n        top: \"0px\",\n        right: sidebarWidth,\n        width: drawerWidth,\n        bottom: \"0px\",\n    },\n    drawerButton: {\n        width: \"36px\",\n        padding: \"0px\",\n        margin: \"6px 0px 6px 6px\",\n    },\n}));\n\nexport default function PersistentDrawerRight() {\n    const classes = useStyles();\n    const { currentOpenFile, usernotes, actions } = useContext(filecontext);\n    const { setSearchStr, setOpen, setMode } = useContext(mainContext);\n    const [r_open, setr_open] = useState(false);\n    const [r_mode, setr_Mode] = useState(\"link\");\n\n    //links, tags to be showed\n    const [links, setLink] = useState([]);\n    useEffect(() => {\n        try {\n            if (currentOpenFile) {\n                let title = usernotes.find((e) => e.id === currentOpenFile)\n                    .title;\n                let alllinks = {};\n                usernotes.forEach((e) => {\n                    e.links.forEach((ele) => {\n                        if (ele === title) {\n                            if (!Object.keys(alllinks).includes(e.title)) {\n                                alllinks[e.title] = e.id;\n                            }\n                        }\n                    });\n                });\n                setLink(Object.entries(alllinks));\n            }\n        } catch (error) {\n            console.log(error);\n        }\n        return () => {};\n    }, [usernotes, currentOpenFile]);\n\n    const [tags, setTag] = useState([]);\n\n    useEffect(() => {\n        let alltags = {};\n        usernotes.forEach((e) => {\n            e.tags.forEach((ele) => {\n                if (Object.keys(alltags).includes(ele)) {\n                    alltags[ele] += 1;\n                } else {\n                    alltags[ele] = 1;\n                }\n            });\n        });\n        setTag(Object.entries(alltags));\n        return () => {};\n    }, [usernotes]);\n    const [showingItem, setShowingItem] = useState([]);\n    useEffect(() => {\n        setShowingItem(r_mode === \"link\" ? links : tags);\n        return () => {};\n    }, [r_mode, links, tags]);\n\n    const handleDrawerOpen = () => {\n        setr_open(!r_open);\n    };\n\n    const handleMode = (updMode) => {\n        setr_Mode(updMode);\n    };\n\n    const handleSearch = (tag) => {\n        setSearchStr(\"tags: \" + tag);\n        setOpen(true);\n        setMode(\"search\");\n    };\n\n    const handleLink = (id) => {\n        actions.open(id);\n        if (document.getElementsByClassName(\"input\")[0])\n            document.getElementsByClassName(\"input\")[0].focus();\n    };\n\n    return (\n        <div className={clsx(classes.root, { [classes.rootShift]: r_open })}>\n            <CssBaseline />\n            <div className={classes.sidebarWrapper}>\n                <IconButton\n                    color=\"default\"\n                    aria-label=\"open drawer\"\n                    onClick={handleDrawerOpen}\n                    classes={{\n                        root: classes.nopad,\n                    }}\n                    disableRipple={true}\n                >\n                    {r_open ? <ChevronRightIcon /> : <ChevronLeftIcon />}\n                </IconButton>\n            </div>\n\n            <Drawer\n                className={classes.drawer}\n                variant=\"persistent\"\n                anchor=\"right\"\n                open={r_open}\n                classes={{\n                    paper: classes.drawerPaper,\n                    docked: classes.drawerPaperWrapper,\n                }}\n            >\n                <div style={{ display: \"flex\" }}>\n                    <IconButton\n                        color={r_mode === \"link\" ? \"inherit\" : \"default\"}\n                        onClick={() => handleMode(\"link\")}\n                        classes={{\n                            root: classes.drawerButton,\n                        }}\n                        disableRipple={true}\n                    >\n                        <LinkIcon />\n                    </IconButton>\n                    <IconButton\n                        color={r_mode === \"tag\" ? \"inherit\" : \"default\"}\n                        onClick={() => handleMode(\"tag\")}\n                        classes={{\n                            root: classes.drawerButton,\n                        }}\n                        disableRipple={true}\n                    >\n                        <LocalOfferOutlinedIcon />\n                    </IconButton>\n                </div>\n                <Divider style={{ height: \"3px\" }} />\n                <div style={{ flexGrow: 1, overflowY: \"auto\" }}>\n                    <List disablePadding={true}>\n                        {showingItem.map((text, index) => (\n                            <>\n                                <ListItem\n                                    button\n                                    key={index}\n                                    onClick={() => {\n                                        r_mode === \"tag\"\n                                            ? handleSearch(text[0])\n                                            : handleLink(text[1]);\n                                    }}\n                                >\n                                    <ListItemText\n                                        primary={\n                                            r_mode === \"tag\"\n                                                ? \"# \" + text[0]\n                                                : text[0]\n                                        }\n                                    />\n                                    <ListItemText\n                                        primary={\n                                            r_mode === \"tag\" ? text[1] : \"\"\n                                        }\n                                        style={{ textAlign: \"right\" }}\n                                    />\n                                </ListItem>\n                                <Divider />\n                            </>\n                        ))}\n                    </List>\n                </div>\n            </Drawer>\n        </div>\n    );\n}\n","import { gql } from \"apollo-boost\";\n\nexport const ADDTAG_Mutation = gql`\n    mutation addtag($id: String!, $email: String!, $tag: String!) {\n        addtag(id: $id, email: $email, tag: $tag)\n    }\n`;\n","import { gql } from \"apollo-boost\";\n\nexport const DELTAG_Mutation = gql`\n    mutation deletetag($id: String!, $email: String!, $index: Int!) {\n        deletetag(id: $id, email: $email, index: $index)\n    }\n`;\n","import React, { useContext, useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\n\nimport Chip from \"@material-ui/core/Chip\";\nimport { Popover } from \"@material-ui/core\";\nimport Alert from \"@material-ui/lab/Alert\";\n\nimport { filecontext } from \"../../context/filetree\";\nimport { AuthContext } from \"../../routes/auth\";\nimport { useMutation } from \"@apollo/react-hooks\";\nimport { ADDTAG_Mutation } from \"../../graphql/addTag\";\nimport { DELTAG_Mutation } from \"../../graphql/delTag\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        alignItems: \"center\",\n        listStyle: \"none\",\n        margin: 0,\n        height: \"32px\",\n        overflowY: \"auto\",\n    },\n    chip: {\n        margin: theme.spacing(0.5),\n    },\n    titlebar: {\n        flexGrow: 1,\n        fontSize: \"14px\",\n        margin: theme.spacing(0.5),\n        outline: \"none\",\n        padding: \"1px 6px\",\n        borderRadius: \"12px\",\n        borderColor: `${theme.palette.divider}`,\n        \"&:focus\": {\n            borderColor: theme.palette.text.primary,\n        },\n    },\n    alert: {\n        width: \"256px\",\n    },\n}));\n\nexport default function TagBar() {\n    const classes = useStyles();\n    const { currentOpenFile, usernotes, setuserNotes } = useContext(\n        filecontext\n    );\n    const [anchorEle, setAnchorEle] = useState(null);\n\n    const handleClose = () => {\n        setAnchorEle(null);\n    };\n    React.useEffect(() => {\n        if (anchorEle) {\n            setTimeout(function () {\n                setAnchorEle(null);\n            }, 1300); //1.3 Second delay\n        }\n    }, [anchorEle]);\n    const open = Boolean(anchorEle);\n    const id = open ? \"simple-popover\" : undefined;\n\n    const context = useContext(AuthContext);\n    const [addtag] = useMutation(ADDTAG_Mutation);\n    const [deltag] = useMutation(DELTAG_Mutation);\n    const [tag, setTag] = useState(\"\");\n\n    const [chipData, setChipData] = useState([]);\n    useEffect(() => {\n        if (currentOpenFile && usernotes) {\n            setChipData(usernotes.find((e) => e.id === currentOpenFile).tags);\n        }\n        return () => {};\n    }, [currentOpenFile, usernotes]);\n\n    const updTag = (e) => {\n        setTag(e.target.value);\n    };\n\n    const handleDelete = async (chipToDelete) => {\n        try {\n            let chips = chipData.filter(\n                (data, index) => index !== chipToDelete\n            );\n            setChipData(chips);\n            let newnotes = [...usernotes];\n            newnotes\n                .find((e) => e.id === currentOpenFile)\n                .tags.splice(chipToDelete, 1);\n            setuserNotes(newnotes);\n            await deltag({\n                variables: {\n                    id: currentOpenFile,\n                    email: context.user.email,\n                    index: chipToDelete,\n                },\n            });\n        } catch (err) {\n            console.log(err);\n        }\n    };\n\n    const newTag = async (e) => {\n        if (e.key === \"Enter\" && e.target.value !== \"\" && currentOpenFile) {\n            try {\n                if (chipData.includes(tag)) {\n                    setAnchorEle(document.body);\n                    return;\n                }\n                let newnotes = [...usernotes];\n                newnotes.find((e) => e.id === currentOpenFile).tags.push(tag);\n                setuserNotes(newnotes);\n                setChipData([...chipData, tag]);\n                await addtag({\n                    variables: {\n                        id: currentOpenFile,\n                        email: context.user.email,\n                        tag,\n                    },\n                });\n                setTag(\"\");\n                e.target.value = \"\";\n            } catch (err) {\n                console.log(err);\n            }\n        }\n    };\n\n    return (\n        <>\n            <CssBaseline />\n            <div className={classes.root}>\n                {chipData.map((data, index) => {\n                    return (\n                        <li key={index}>\n                            <Chip\n                                size=\"small\"\n                                label={data}\n                                onDelete={() => handleDelete(index)}\n                                className={classes.chip}\n                            />\n                        </li>\n                    );\n                })}\n                <input\n                    id=\"taginput\"\n                    className={classes.titlebar}\n                    placeholder=\"New tags\"\n                    onChange={updTag}\n                    onKeyDown={newTag}\n                />\n                <Popover\n                    id={id}\n                    open={open}\n                    anchorEl={anchorEle}\n                    onClose={handleClose}\n                    anchorOrigin={{\n                        vertical: \"top\",\n                        horizontal: \"center\",\n                    }}\n                    transformOrigin={{\n                        vertical: \"top\",\n                        horizontal: \"center\",\n                    }}\n                >\n                    <Alert className={classes.alert} severity=\"warning\">\n                        Tag Already Exists!\n                    </Alert>\n                </Popover>\n            </div>\n        </>\n    );\n}\n","import { gql } from \"apollo-boost\";\n\nexport const ADDNOTE_Mutation = gql`\n    mutation createNote(\n        $email: String!\n        $title: String!\n        $markdown: String!\n        $tags: [String]!\n        $links: [String]!\n    ) {\n        createNote(\n            data: {\n                email: $email\n                title: $title\n                markdown: $markdown\n                tags: $tags\n                links: $links\n            }\n        ) {\n            id\n            tags\n            title\n            markdown\n            links\n        }\n    }\n`;\n","import { gql } from \"apollo-boost\";\n\nexport const DELNOTE_Mutation = gql`\n    mutation deleteNote($id: String!, $email: String!) {\n        deleteNote(id: $id, email: $email)\n    }\n`;\n","import { useReducer, useContext } from \"react\";\nimport { ADDNOTE_Mutation } from \"../../graphql/createNote\";\nimport { DELNOTE_Mutation } from \"../../graphql/deleteNote\";\nimport { UPDNOTE_Mutation } from \"../../graphql/updateNote\";\nimport { useMutation } from \"@apollo/react-hooks\";\nimport { AuthContext } from \"../../routes/auth\";\n\nfunction actionReducer(state, action) {\n    let updOpenFiles = [];\n    let updCurrentOpenFile = \"\";\n\n    switch (action.type) {\n        case \"SET\":\n            return action.updData;\n        case \"NEW\":\n            return {\n                usernotes: [...state.usernotes, action.data],\n                openFiles: [...state.openFiles, action.id],\n                currentOpenFile: action.id,\n            };\n        case \"OPEN\":\n            if (action.id === \"root\") {\n                return state;\n            }\n            if (!state.openFiles.includes(action.id)) {\n                return {\n                    ...state,\n                    openFiles: [...state.openFiles, action.id],\n                    currentOpenFile: action.id,\n                };\n            } else {\n                return {\n                    ...state,\n                    currentOpenFile: action.id,\n                };\n            }\n        case \"RENAME\":\n            return {\n                ...state,\n                usernotes: action.data,\n            };\n        case \"DELETE\":\n            updCurrentOpenFile = state.currentOpenFile;\n            updOpenFiles = state.openFiles.filter((e) => e !== action.id);\n            if (action.id === state.currentOpenFile) {\n                let idx = state.openFiles.indexOf(state.currentOpenFile);\n                if (idx > 0) {\n                    updCurrentOpenFile = state.openFiles[idx - 1];\n                } else if (idx === 0 && state.openFiles.length > 1) {\n                    updCurrentOpenFile = state.openFiles[1];\n                } else {\n                    updCurrentOpenFile = \"\";\n                }\n            }\n            return {\n                ...state,\n                usernotes: action.data,\n                openFiles: updOpenFiles,\n                currentOpenFile: updCurrentOpenFile,\n            };\n        case \"CLOSE\":\n            updCurrentOpenFile = state.currentOpenFile;\n            updOpenFiles = state.openFiles.filter((e) => e !== action.id);\n            if (action.id === state.currentOpenFile) {\n                let idx = state.openFiles.indexOf(state.currentOpenFile);\n                if (idx > 0) {\n                    updCurrentOpenFile = state.openFiles[idx - 1];\n                } else if (idx === 0 && state.openFiles.length > 1) {\n                    updCurrentOpenFile = state.openFiles[1];\n                } else {\n                    updCurrentOpenFile = \"\";\n                }\n            }\n            return {\n                ...state,\n                openFiles: updOpenFiles,\n                currentOpenFile: updCurrentOpenFile,\n            };\n        default:\n            return state;\n    }\n}\n\nfunction FileActions(initialState) {\n    const [state, dispatch] = useReducer(actionReducer, initialState);\n    const [newNote] = useMutation(ADDNOTE_Mutation);\n    const [delNote] = useMutation(DELNOTE_Mutation);\n    const [updNote] = useMutation(UPDNOTE_Mutation);\n    const {\n        user: { email },\n    } = useContext(AuthContext);\n\n    function setUserNotes(data) {\n        dispatch({\n            type: \"SET\",\n            updData: {\n                ...state,\n                usernotes: data,\n            },\n        });\n    }\n    function setOpenFiles(data) {\n        dispatch({\n            type: \"SET\",\n            updData: {\n                ...state,\n                openFiles: data,\n            },\n        });\n    }\n    function setCurrentOpenFile(data) {\n        dispatch({\n            type: \"SET\",\n            updData: {\n                ...state,\n                currentOpenFile: data,\n            },\n        });\n    }\n    async function newFile(title) {\n        try {\n            const a = await newNote({\n                variables: {\n                    email,\n                    title,\n                    markdown: \"\",\n                    tags: [],\n                    links: [],\n                },\n            });\n            dispatch({\n                type: \"NEW\",\n                id: a.data.createNote.id,\n                data: a.data.createNote,\n            });\n        } catch (err) {\n            console.log(err);\n        }\n    }\n    function openFile(id) {\n        dispatch({\n            type: \"OPEN\",\n            id: id,\n        });\n    }\n    function saveFile(id, data) {\n        let newNotes = [...state.usernotes];\n        let idx = newNotes.findIndex((e) => e.id === id);\n        newNotes[idx] = data;\n        setUserNotes(newNotes);\n    }\n    function closeFile(id) {\n        dispatch({\n            type: \"CLOSE\",\n            id: id,\n        });\n    }\n    async function renameFile(id, title) {\n        try {\n            let data = [...state.usernotes];\n            data.find((e) => e.id === id).title = title;\n            dispatch({\n                type: \"RENAME\",\n                id,\n                data,\n            });\n            await updNote({ variables: { id, email, title } });\n        } catch (error) {\n            console.log(error);\n        }\n    }\n    async function deleteFile(id) {\n        // TODO: delete file in backend, return new usernotes data\n        try {\n            let data = [...state.usernotes];\n            let idx = data.findIndex((e) => e.id === id);\n            data.splice(idx, 1);\n            console.log(id);\n            console.log(data);\n            dispatch({\n                type: \"DELETE\",\n                id,\n                data,\n            });\n            await delNote({ variables: { id, email } });\n        } catch (err) {\n            console.log(err);\n        }\n    }\n\n    return {\n        usernotes: state.usernotes,\n        openFiles: state.openFiles,\n        currentOpenFile: state.currentOpenFile,\n        setuserNotes: setUserNotes,\n        setopenFiles: setOpenFiles,\n        setcurrentOpenFile: setCurrentOpenFile,\n        actions: {\n            new: newFile,\n            open: openFile,\n            save: saveFile,\n            close: closeFile,\n            rename: renameFile,\n            delete: deleteFile,\n        },\n    };\n}\n\nexport { FileActions };\n","import React from \"react\";\nimport ReactLoading from \"react-loading\";\n\nconst Example = ({ type, color }) => (\n    <ReactLoading type={type} color={color} height={667} width={375} />\n);\n\nexport default Example;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Container from \"@material-ui/core/Container\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport { filecontext } from \"../../context/filetree\";\nimport { AvatarContext } from \"../../context/avatarContext\";\nimport { useQuery } from \"@apollo/react-hooks\";\nimport { NOTES_QUERY } from \"../../graphql/notes\";\nimport { AVATAR_QUERY } from \"../../graphql/getAvatar\";\nimport { AuthContext } from \"../../routes/auth\";\n\nimport PersistentDrawerLeft from \"./LeftDrawer\";\nimport PersistentDrawerRight from \"./RightDrawer\";\nimport TagBar from \"./TagBar\";\n\nimport { FileActions } from \"./FileActions\";\nimport { mainContext } from \"../../context/mainContext\";\n\nimport Loading from \"../../routes/loading\";\n\nconst useStyles = makeStyles((theme) => ({\n    mainGrid: {\n        marginTop: theme.spacing(3),\n    },\n    pageContainer: {\n        minHeight: \"100%\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    },\n}));\n\nexport default function Page_1_0() {\n    const classes = useStyles();\n    const {\n        user: { email, userId: id },\n    } = useContext(AuthContext);\n    const [mode, setMode] = useState(\"search\");\n    const [open, setOpen] = useState(false);\n    const [searchStr, setSearchStr] = useState(\"\");\n\n    const { loading, error, data } = useQuery(NOTES_QUERY, {\n        variables: { email },\n    });\n\n    const { loading: ava_loading, error: ava_error, data: ava_data } = useQuery(\n        AVATAR_QUERY,\n        {\n            variables: { id },\n        }\n    );\n    const [avatar, setAvatar] = useState(\"\");\n    useEffect(() => {\n        if (!ava_loading && !ava_error) {\n            setAvatar(ava_data.userAvatar);\n        }\n        return () => {};\n    }, [ava_loading]);\n\n    const {\n        usernotes,\n        openFiles,\n        currentOpenFile,\n        setcurrentOpenFile,\n        setuserNotes,\n        setopenFiles,\n        actions,\n    } = FileActions({ usernotes: [], openFiles: [], currentOpenFile: \"\" });\n\n    useEffect(() => {\n        if (!loading && !error) {\n            setuserNotes(data.usernotes);\n        }\n    }, [loading, data, error]);\n\n    return loading || ava_loading ? (\n        <div color=\"blue\">\n            <Loading type=\"spinningBubbles\" color=\"ffffff\" />\n        </div>\n    ) : (\n        <React.Fragment>\n            <CssBaseline />\n            <Container\n                maxWidth={false}\n                disableGutters={true}\n                className={classes.pageContainer}\n            >\n                <filecontext.Provider\n                    value={{\n                        usernotes,\n                        openFiles,\n                        currentOpenFile,\n                        setcurrentOpenFile,\n                        setuserNotes,\n                        setopenFiles,\n                        actions,\n                    }}\n                >\n                    <AvatarContext.Provider value={{ avatar, setAvatar }}>\n                        <Header />\n                    </AvatarContext.Provider>\n                    <mainContext.Provider\n                        value={{\n                            mode,\n                            setMode,\n                            open,\n                            setOpen,\n                            searchStr,\n                            setSearchStr,\n                        }}\n                    >\n                        <main\n                            style={{\n                                display: \"flex\",\n                                flexGrow: 1,\n                                alignItems: \"stretch\",\n                            }}\n                        >\n                            <PersistentDrawerLeft></PersistentDrawerLeft>\n                            <div\n                                style={{\n                                    display: \"flex\",\n                                    flexGrow: 1,\n                                    flexDirection: \"column\",\n                                    alignItems: \"stretch\",\n                                }}\n                            >\n                                <Main></Main>\n                                <TagBar></TagBar>\n                            </div>\n                            <PersistentDrawerRight></PersistentDrawerRight>\n                        </main>\n                    </mainContext.Provider>\n                </filecontext.Provider>\n            </Container>\n        </React.Fragment>\n    );\n}\n","import React from \"react\";\nimport { Switch } from \"react-router-dom\";\nimport SignIn from \"../components/SignIn\";\nimport SignUp from \"../components/SignUp\";\nimport AuthRoute from \"./authRoute\";\nimport ProtectRoute from \"./protectRoute\";\nimport Page_1_0 from \"../components/Page_1_0/Page_1_0\";\nfunction Routes() {\n    return (\n        <Switch>\n            <AuthRoute exact path=\"/\" component={SignIn} />\n            <AuthRoute exact path=\"/login\" component={SignIn} />\n            <AuthRoute exact path=\"/signup\" component={SignUp} />\n            <ProtectRoute exact path=\"/dashboard\" component={Page_1_0} />\n        </Switch>\n    );\n}\n\nexport default Routes;\n","import \"./App.css\";\nimport Routes from \"./routes/Routes\";\n\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport { setAccessToken } from \"./accessToken\";\nimport { AuthContext } from \"./routes/auth\";\nimport decode from \"jwt-decode\";\nimport Loading from \"./routes/loading\";\n\nfunction App() {\n    const [loading, setLoading] = useState(true);\n    const context = useContext(AuthContext);\n    useEffect(() => {\n        fetch(\"/refresh_token\", {\n            method: \"POST\",\n            credentials: \"include\",\n        }).then(async (res) => {\n            const data = await res.json();\n            if (data.accessToken) {\n                setAccessToken(data.accessToken);\n                const { userId, name, email } = decode(data.accessToken);\n                if (!context.user)\n                    context.login({\n                        userId,\n                        name,\n                        email,\n                        accessToken: data.accessToken,\n                    });\n            } else console.log(\"no access Token, Please login\");\n            setLoading(false);\n        });\n    }, []);\n    return (\n        <div className=\"App\">\n            <Router>\n                {loading ? (\n                    <Loading type=\"spinningBubbles\" color=\"ffffff\" />\n                ) : (\n                    <Routes />\n                )}\n            </Router>\n        </div>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nimport { ApolloClient, InMemoryCache } from \"apollo-boost\";\nimport { ApolloProvider } from \"@apollo/react-hooks\";\nimport { ApolloLink, Observable } from \"apollo-link\";\nimport { onError } from \"apollo-link-error\";\nimport { createUploadLink } from \"apollo-upload-client\";\nimport { TokenRefreshLink } from \"apollo-link-token-refresh\";\nimport jwtDecode from \"jwt-decode\";\nimport { AuthProvider } from \"./routes/auth\";\nimport { setAccessToken, getAccessToken } from \"./accessToken\";\n\n// Create an http link:\nconst httpLink = createUploadLink({\n    uri: \"/graphql\",\n    credentials: \"include\",\n});\n\nconst requestLink = new ApolloLink(\n    (operation, forward) =>\n        new Observable((observer) => {\n            let handle;\n            Promise.resolve(operation)\n                .then((operation) => {\n                    const accessToken = getAccessToken();\n                    if (accessToken) {\n                        operation.setContext({\n                            headers: {\n                                authorization: `bearer ${accessToken}`,\n                            },\n                        });\n                    }\n                })\n                .then(() => {\n                    handle = forward(operation).subscribe({\n                        next: observer.next.bind(observer),\n                        error: observer.error.bind(observer),\n                        complete: observer.complete.bind(observer),\n                    });\n                })\n                .catch(observer.error.bind(observer));\n\n            return () => {\n                if (handle) handle.unsubscribe();\n            };\n        })\n);\n\nconst RefreshLink = new TokenRefreshLink({\n    accessTokenField: \"accessToken\",\n    isTokenValidOrUndefined: () => {\n        const token = getAccessToken();\n        if (!token) {\n            return true;\n        }\n\n        try {\n            const { exp } = jwtDecode(token);\n            if (Date.now() >= exp * 1000) {\n                return false;\n            } else {\n                return true;\n            }\n        } catch {\n            return false;\n        }\n    },\n    fetchAccessToken: () => {\n        return fetch(\"/refresh_token\", {\n            method: \"POST\",\n            credentials: \"include\",\n        });\n    },\n    handleFetch: (accessToken) => {\n        console.log(accessToken);\n        setAccessToken(accessToken);\n    },\n    handleError: (err) => {\n        console.warn(\"Your refresh token is invalid. Try to relogin\");\n        console.error(err);\n    },\n});\n\nconst errorLink = onError(({ graphQLErrors, networkError, errorMessage }) => {\n    console.log(graphQLErrors);\n    console.log(networkError);\n});\n\nconst client = new ApolloClient({\n    link: ApolloLink.from([RefreshLink, errorLink, requestLink, httpLink]),\n    cache: new InMemoryCache().restore({}),\n});\n\nconst wrappedApp = (\n    <ApolloProvider client={client}>\n        <AuthProvider>\n            <App />\n        </AuthProvider>\n    </ApolloProvider>\n);\n\nReactDOM.render(wrappedApp, document.getElementById(\"root\"));\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}