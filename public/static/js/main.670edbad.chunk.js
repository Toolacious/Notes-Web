(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{1367:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),i=n.n(r),c=n(36),s=n.n(c),o=(n(516),n(30)),l=n.n(o),A=n(49),d=n(10),u=(n(518),n(44)),j=n(1436),p=n(1413),b=n(1411),m=n(1427),h=n(76),O=n(1410),x=n(1428),g=n(257),f=n.n(g),v=n(199),w=n(1409),y=n(261),C=n(85),S=n(40),k=n(39),F=n(160),N=n.n(F);function E(){const e=Object(k.a)(["\n    mutation login($email: String!, $password: String!) {\n        login(data: { email: $email, password: $password }) {\n            userId\n            name\n            email\n            accessToken\n        }\n    }\n"]);return E=function(){return e},e}const B=N()(E());var T=n(21),I=n(158),R=n.n(I);let U="";const D=e=>{U=e},W=()=>U,q={user:null};if(W()){const e=R()(W());q.user=e}const G=Object(r.createContext)({user:null,login:e=>{},logout:()=>{}});function K(e,t){switch(t.type){case"LOGIN":return Object(T.a)(Object(T.a)({},e),{},{user:t.payload});case"LOGOUT":return Object(T.a)(Object(T.a)({},e),{},{user:null});default:return e}}function Q(e){const t=Object(r.useReducer)(K,q),n=Object(d.a)(t,2),i=n[0],c=n[1];return Object(a.jsx)(G.Provider,Object(T.a)({value:{user:i.user,login:function(e){c({type:"LOGIN",payload:e})},logout:function(){c({type:"LOGOUT"})}}},e))}var M=n(1370),L=n.p+"static/media/login.bd291095.png";function P(){return Object(a.jsxs)(v.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(a.jsx)(h.b,{color:"inherit",to:"https://material-ui.com/",children:"Abyss Notes"})," ",(new Date).getFullYear(),"."]})}const V=Object(w.a)((e=>({root:{height:"100vh"},image:{backgroundImage:"url(".concat(L,")"),backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}})));function Y(){const e=Object(r.useContext)(G),t=V(),n=Object(S.a)(B),i=Object(d.a)(n,2),c=i[0],s=i[1],o=(s.loading,s.error,Object(r.useState)("")),g=Object(d.a)(o,2),w=g[0],k=g[1],F=Object(u.g)(),N=C.a({email:C.c("Enter your email").email("Enter a valid email").required("Email is required"),password:C.c("").min(6,"Password must contain at least 6 characters").required("Enter your password")}),E=Object(y.a)({initialValues:{email:"",password:""},validationSchema:N,onSubmit:function(){var t=Object(A.a)(l.a.mark((function t(n){var a,r,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=n.email,r=n.password,t.next=4,c({variables:{email:a,password:r}});case 4:(i=t.sent)&&i.data&&D(i.data.login.accessToken),e.login(i.data.login),F.push("/dashboard"),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0.message),k(t.t0.message.slice(15));case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()});return Object(a.jsxs)(O.a,{container:!0,component:"main",className:t.root,children:[Object(a.jsx)(b.a,{}),Object(a.jsx)(O.a,{item:!0,xs:!1,sm:4,md:7,className:t.image}),Object(a.jsx)(O.a,{item:!0,xs:12,sm:8,md:5,component:M.a,elevation:6,square:!0,children:Object(a.jsxs)("div",{className:t.paper,children:[Object(a.jsx)(j.a,{className:t.avatar,children:Object(a.jsx)(f.a,{})}),Object(a.jsx)(v.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(a.jsxs)("form",{className:t.form,onSubmit:E.handleSubmit,noValidate:!0,children:[Object(a.jsx)(m.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,value:E.values.email,onChange:E.handleChange,error:E.touched.email&&Boolean(E.errors.email)||"E"===w[0]||"e"===w[1],helperText:E.touched.email&&E.errors.email||("E"===w[0]||"e"===w[1]?w:null)}),Object(a.jsx)(m.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:E.handleChange,error:E.touched.password&&Boolean(E.errors.password)||"P"===w[0],helperText:E.touched.password&&E.errors.password||("P"===w[0]?w:null)}),Object(a.jsx)(p.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,disabled:E.isSubmitting,children:"Sign In"}),Object(a.jsx)(O.a,{container:!0,children:Object(a.jsx)(O.a,{item:!0,xs:!0,children:Object(a.jsx)(h.b,{to:"/signup",variant:"body2",children:"Don't have an account? Sign Up"})})}),Object(a.jsx)(x.a,{mt:5,children:Object(a.jsx)(P,{})})]})]})})]})}var Z=n(1414);function X(){const e=Object(k.a)(["\n    mutation createUser(\n        $fname: String!\n        $lname: String!\n        $name: String!\n        $email: String!\n        $password: String!\n    ) {\n        createUser(\n            data: {\n                fname: $fname\n                lname: $lname\n                name: $name\n                email: $email\n                password: $password\n            }\n        ) {\n            id\n            name\n            password\n        }\n    }\n"]);return X=function(){return e},e}const J=N()(X());var z=n.p+"static/media/signup.e3594763.jpg";function H(){return Object(a.jsxs)(v.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(a.jsx)(h.b,{color:"inherit",to:"https://material-ui.com/",children:"Abyss Notes"})," ",(new Date).getFullYear(),"."]})}const $=Object(w.a)((e=>({paper:{display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"white",padding:e.spacing(2),borderRadius:"20px"},image:{backgroundImage:"url(".concat(z,")"),backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},space:{height:e.spacing(8)}})));function _(){const e=Object(r.useContext)(G),t=C.a({fname:C.c("Enter your first name").min(2,"Fist name should be of minimum 2 characters length").max(50).required("First name is required"),lname:C.c("Enter your last name").min(2,"Fist name should be of minimum 2 characters length").required("Last name is required"),name:C.c("Enter a name").min(6,"Username should be of minimum 6 characters length").required("Name is required"),email:C.c("Enter your email").email("Enter a valid email").required("Email is required"),password:C.c("").min(6,"Password must contain at least 6 characters").required("Enter your password"),confirmPassword:C.c("Enter your password").required("Confirm your password").oneOf([C.b("password")],"Password does not match")}),n=Object(u.g)(),i=Object(S.a)(J),c=Object(d.a)(i,1)[0],s=Object(r.useState)(""),o=Object(d.a)(s,2),g=o[0],w=o[1],k=Object(S.a)(B),F=Object(d.a)(k,2),N=F[0],E=F[1].loading,T=$(),I=Object(y.a)({initialValues:{fname:"",lname:"",name:"",email:"",password:"",confirmPassword:""},validationSchema:t,onSubmit:function(){var t=Object(A.a)(l.a.mark((function t(a){var r,i,s,o,A,d;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=a.fname,i=a.lname,s=a.name,o=a.email,A=a.password,t.next=4,c({variables:{fname:r,lname:i,name:s,email:o,password:A}});case 4:return t.next=6,N({variables:{email:o,password:A}});case 6:d=t.sent,E||console.log("redirect"),d&&d.data&&(console.log("response"),console.log(d.data),D(d.data.login.accessToken)),e.login(d.data.login),n.push("/dashboard"),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0.message),w(t.t0.message.slice(15));case 17:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()});return Object(a.jsx)("div",{style:{width:"100vw",height:"100vh"},className:T.image,children:Object(a.jsxs)(Z.a,{component:"main",maxWidth:"xs",style:{height:"100%"},children:[Object(a.jsx)(b.a,{}),Object(a.jsx)("div",{className:T.space}),Object(a.jsxs)("div",{className:T.paper,children:[Object(a.jsx)(j.a,{className:T.avatar,children:Object(a.jsx)(f.a,{})}),Object(a.jsx)(v.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(a.jsxs)("form",{className:T.form,onSubmit:I.handleSubmit,noValidate:!0,children:[Object(a.jsxs)(O.a,{container:!0,spacing:2,children:[Object(a.jsx)(O.a,{item:!0,xs:12,sm:6,children:Object(a.jsx)(m.a,{autoComplete:"fname",name:"fname",variant:"outlined",required:!0,fullWidth:!0,id:"fname",label:"First name",autoFocus:!0,value:I.values.fname,onChange:I.handleChange,error:I.touched.fname&&Boolean(I.errors.fname),helperText:I.touched.fname&&I.errors.fname})}),Object(a.jsx)(O.a,{item:!0,xs:12,sm:6,children:Object(a.jsx)(m.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lname",label:"Last name",name:"lname",autoComplete:"lname",value:I.values.lname,onChange:I.handleChange,error:I.touched.lname&&Boolean(I.errors.lname),helperText:I.touched.lname&&I.errors.lname})}),Object(a.jsx)(O.a,{item:!0,xs:12,children:Object(a.jsx)(m.a,{autoComplete:"username",name:"name",variant:"outlined",required:!0,fullWidth:!0,id:"name",label:"Username",autoFocus:!0,value:I.values.name,onChange:I.handleChange,error:I.touched.name&&Boolean(I.errors.name),helperText:I.touched.name&&I.errors.name})}),Object(a.jsx)(O.a,{item:!0,xs:12,children:Object(a.jsx)(m.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:I.values.email,onChange:I.handleChange,error:I.touched.email&&Boolean(I.errors.email)||""!==g,helperText:I.touched.email&&I.errors.email||g})}),Object(a.jsx)(O.a,{item:!0,xs:12,children:Object(a.jsx)(m.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:I.handleChange,error:I.touched.password&&Boolean(I.errors.password),helperText:I.touched.password&&I.errors.password})}),Object(a.jsx)(O.a,{item:!0,xs:12,children:Object(a.jsx)(m.a,{variant:"outlined",required:!0,fullWidth:!0,name:"confirmPassword",label:"Confirm Password",type:"password",id:"confirmPassword",autoComplete:"current-password",onChange:I.handleChange,error:I.touched.confirmPassword&&Boolean(I.errors.confirmPassword),helperText:I.touched.confirmPassword&&I.errors.confirmPassword})})]}),Object(a.jsx)(p.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:T.submit,disabled:I.isSubmitting,children:"Sign Up"}),Object(a.jsx)(O.a,{container:!0,justify:"flex-end",children:Object(a.jsx)(O.a,{item:!0,xs:!0,children:Object(a.jsx)(h.b,{to:"/login",variant:"body2",children:"Already have an account? Sign in"})})})]})]}),Object(a.jsx)(x.a,{mt:5,children:Object(a.jsx)(H,{})})]})})}var ee=n(262);var te=function(e){let t=e.component,n=Object(ee.a)(e,["component"]);const i=Object(r.useContext)(G).user;return Object(a.jsx)(u.b,Object(T.a)(Object(T.a)({},n),{},{render:e=>i?Object(a.jsx)(u.a,{to:"/dashboard"}):Object(a.jsx)(t,Object(T.a)({},e))}))};var ne=function(e){let t=e.component,n=Object(ee.a)(e,["component"]);const i=Object(r.useContext)(G).user;return Object(a.jsx)(u.b,Object(T.a)(Object(T.a)({},n),{},{render:e=>i?Object(a.jsx)(t,Object(T.a)({},e)):Object(a.jsx)(u.a,{to:"/"})}))},ae=n(1420),re=n(1421),ie=n(467),ce=n.n(ie),se=n(7),oe=n(488),le=n(1415);const Ae=Object(w.a)((e=>({menubarButton:{fontSize:"14px",paddingTop:"0px",paddingBottom:"0px",paddingLeft:e.spacing(1),paddingRight:e.spacing(1),flexShrink:0,textTransform:"none"},menuItem:{fontSize:"14px",width:"128px"},disabledMenuItem:{cursor:"default",color:"rgb(180, 180, 180)!important",backgroundColor:"white!important"}})));function de(e){const t=Ae(),n=e.menu,r=n.name,c=n.sections,s=i.a.useState(null),o=Object(d.a)(s,2),l=o[0],A=o[1];return Object(a.jsxs)("div",{children:[Object(a.jsx)(p.a,{className:t.menubarButton,"aria-controls":"name","aria-haspopup":"true",onClick:e=>{A(e.currentTarget)},onKeyDown:e=>{"Enter"===e.key&&e.preventDefault()},children:r}),Object(a.jsx)(oe.a,{id:"name",anchorEl:l,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},keepMounted:!0,open:Boolean(l),onClose:()=>{A(null)},children:c.map((e=>Object(a.jsx)(le.a,{className:Object(se.a)(t.menuItem,{[t.disabledMenuItem]:"Save"===e.name&&!document.getElementById("saveMain")}),onClick:()=>{e.func(),A(null)},children:e.name})))})]})}var ue=n(1417),je=n(1416);function pe(){const e=Object(k.a)(["\n    mutation {\n        logout\n    }\n"]);return pe=function(){return e},e}const be=N()(pe());var me=n(466),he=n.n(me);n(626);function Oe(){const e=Object(k.a)(["\n    mutation upload($id: String!, $picture: String!) {\n        upload(id: $id, picture: $picture)\n    }\n"]);return Oe=function(){return e},e}const xe=N()(Oe());var ge=n(1418);const fe=Object(r.createContext)({avatar:String,setAvatar:()=>{}});function ve(){return(ve=Object(A.a)(l.a.mark((function e(t,n,a,r,i){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n&&t){e.next=3;break}return e.abrupt("return");case 3:return c=t.toDataURL("image/png"),e.next=6,a({variables:{id:r,picture:c}});case 6:i(c),e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}const we=Object(w.a)((e=>({root:{width:"60vw",height:"60vh",padding:e.spacing(0,3)},dialogButtonWrapper:{display:"flex",width:"50%",flexGrow:1},dialogButton:{display:"flex",width:"100%",fontSize:"18px",textTransform:"none",textAlign:"center"},dialog:{},input:{display:"none"}})));function ye(e){var t,n;const i=we(),c=e.onClose,s=e.open,o=Object(r.useContext)(G).user.userId,l=Object(r.useContext)(fe).setAvatar,A=Object(S.a)(xe),u=Object(d.a)(A,1)[0],j=Object(r.useState)(),b=Object(d.a)(j,2),m=b[0],h=b[1],O=Object(r.useRef)(null),x=Object(r.useRef)(null),g=Object(r.useState)({width:50,height:50,aspect:1}),f=Object(d.a)(g,2),v=f[0],w=f[1],y=Object(r.useState)(null),C=Object(d.a)(y,2),k=C[0],F=C[1],N=Object(r.useCallback)((e=>{O.current=e}),[]);return Object(r.useEffect)((()=>{if(!k||!x.current||!O.current)return;const e=O.current,t=x.current,n=k,a=e.naturalWidth/e.width,r=e.naturalHeight/e.height,i=t.getContext("2d"),c=window.devicePixelRatio;t.width=n.width*c,t.height=n.height*c,i.setTransform(c,0,0,c,0,0),i.imageSmoothingQuality="high",i.drawImage(e,n.x*a,n.y*r,n.width*a,n.height*r,0,0,n.width,n.height)}),[k]),Object(a.jsxs)(je.a,{maxWidth:"xl",open:s,onClose:c,"aria-labelledby":"avatarUpload",children:[Object(a.jsx)(ue.a,{id:"avatarUpload",children:"Upload Avatar"}),Object(a.jsxs)("div",{className:i.root,children:[Object(a.jsx)(he.a,{src:m,onImageLoaded:N,crop:v,onChange:e=>w(e),onComplete:e=>F(e),circularCrop:!0,style:{maxHeight:"100%",maxWidth:"100%",overflow:"auto"}}),Object(a.jsx)("div",{children:Object(a.jsx)("canvas",{ref:x,style:{width:Math.round(null!==(t=null===k||void 0===k?void 0:k.width)&&void 0!==t?t:0),height:Math.round(null!==(n=null===k||void 0===k?void 0:k.height)&&void 0!==n?n:0),display:"none"}})})]}),Object(a.jsxs)(ge.a,{children:[Object(a.jsx)("input",{accept:"image/*",className:i.input,id:"contained-button-file",type:"file",onChange:e=>{if(e.target.files&&e.target.files.length>0){const t=new FileReader;t.addEventListener("load",(()=>h(t.result))),t.readAsDataURL(e.target.files[0])}}}),Object(a.jsx)("label",{htmlFor:"contained-button-file",className:i.dialogButtonWrapper,children:Object(a.jsx)(p.a,{className:i.dialogButton,onClick:()=>{},color:"primary",component:"span",children:"Upload"})}),Object(a.jsx)("div",{className:i.dialogButtonWrapper,children:Object(a.jsx)(p.a,{className:i.dialogButton,disabled:!(null===k||void 0===k?void 0:k.width)||!(null===k||void 0===k?void 0:k.height),onClick:()=>{!function(e,t,n,a,r){ve.apply(this,arguments)}(x.current,k,u,o,l),c()},color:"primary",children:"Save"})})]})]})}const Ce=Object(w.a)((e=>({avatar:{height:"128px",width:"128px",borderRadius:"50%"},headerAvatar:{height:"48px",width:"48px",marginLeft:e.spacing(1),marginRight:e.spacing(1),borderRadius:"50%"},headerAvatarWrapper:{display:"flex",justifyContent:"center",alignItems:"center"},avatarWrapper:{display:"flex",justifyContent:"center",alignItems:"center",marginBottom:e.spacing(3)},dialogButton:{width:"256px",fontSize:"18px",textTransform:"none"},dialog:{}})));function Se(e){const t=Ce(),n=Object(r.useContext)(G),i=Object(u.g)(),c=Object(S.a)(be),s=Object(d.a)(c,1)[0],o=e.onClose,j=e.onOpen,b=e.selectedValue,m=e.open,h=e.avatar_src;return Object(a.jsxs)(je.a,{className:t.dialog,onClose:()=>{o(b)},"aria-labelledby":"account-dialog-title",open:m,children:[Object(a.jsx)(ue.a,{id:"account-dialog-title",children:"Account"}),Object(a.jsx)("div",{className:t.avatarWrapper,children:Object(a.jsx)("img",{className:t.avatar,src:h,alt:"avatar"})}),Object(a.jsx)(p.a,{onClick:j,className:t.dialogButton,children:"Change avatar"}),Object(a.jsx)(p.a,{className:t.dialogButton,onClick:function(){var e=Object(A.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,s();case 3:D(""),W()||(i.push("/"),n.logout());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:"Log out"})]})}function ke(e){const t=Ce(),n=i.a.useState(!1),r=Object(d.a)(n,2),c=r[0],s=r[1],o=i.a.useState(!1),l=Object(d.a)(o,2),A=l[0],u=l[1],j=i.a.useState(0),p=Object(d.a)(j,2),b=p[0],m=p[1],h=()=>{s(!0)},O=e=>{s(!1),m(e)};return Object(a.jsxs)("div",{className:t.headerAvatarWrapper,children:[Object(a.jsx)("img",{className:t.headerAvatar,src:e.src,alt:"#",onClick:h}),Object(a.jsx)(Se,{selectedValue:b,open:c,onClose:O,onOpen:()=>{O(),u(!0)},avatar_src:e.src}),Object(a.jsx)(ye,{open:A,onClose:()=>{u(!1),h()}})]})}const Fe=Object(r.createContext)({usernotes:[],openFiles:[],currentOpenFile:"",setcurrentOpenFile:e=>{},setuserNotes:e=>{},setopenFiles:e=>{},actions:null});var Ne=n(1419);const Ee=Object(w.a)((()=>({dialogButton:{width:"256px",fontSize:"18px",textTransform:"none"},dialog:{}})));function Be(e){Ee();const t=Object(r.useContext)(Fe),n=t.usernotes,c=t.actions,s=i.a.useState(""),o=Object(d.a)(s,2),l=o[0],A=o[1],u=i.a.useState(!0),j=Object(d.a)(u,2),b=j[0],h=j[1],O=i.a.useState(""),x=Object(d.a)(O,2),g=x[0],f=x[1],v=()=>l?-1!==n.findIndex((e=>e.title===l))?(h(!1),void f("name existed!")):(c.new(l),void e.closeFunc()):(h(!1),void f("empty name!"));return Object(a.jsxs)(je.a,{open:!0,"aria-labelledby":"name-dialog-title",children:[Object(a.jsx)(ue.a,{id:"name-dialog-title",children:"File name"}),Object(a.jsx)(Ne.a,{children:Object(a.jsx)(m.a,{autoFocus:!0,error:!b,helperText:b?"":g,margin:"dense",id:"createBox",label:"new name",fullWidth:!0,onChange:e=>{return t=e.target.value,A(t),void h(!0);var t},onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),v())}})}),Object(a.jsxs)(ge.a,{children:[Object(a.jsx)(p.a,{onClick:e.closeFunc,color:"primary",children:"Cancel"}),Object(a.jsx)(p.a,{onClick:v,color:"primary",children:"OK"})]})]})}var Te=n.p+"static/media/icon.62305e2e.png",Ie=n.p+"static/media/title.2337ac1d.png";const Re=Object(w.a)((e=>({headerWrapper:{display:"flex",flexDirection:"row",alignItems:"center",flexWrap:"nowrap",borderBottom:"1px solid ".concat(e.palette.divider),zIndex:e.zIndex.drawer+1},icon:{height:"48px",width:"48px",marginLeft:e.spacing(1),marginRight:e.spacing(1),borderRadius:"50%"},mainWrapper:{display:"flex",flexDirection:"column",flexGrow:1},titlebar:{fontSize:"20px",height:"48px",border:"1px transparent"},titleImg:{maxHeight:"48px",objectFit:"contain"},menubar:{minHeight:"0px",padding:"0px",overflowX:"auto"}})));function Ue(){const e=Re(),t=i.a.useState(!1),n=Object(d.a)(t,2),c=n[0],s=n[1],o=Object(r.useContext)(fe).avatar,l={name:"File",sections:[{name:"New",func:()=>{s(!0)}},{name:"Save",func:()=>{let e=document.getElementById("saveMain");e&&e.click()}}]};return Object(a.jsx)(i.a.Fragment,{children:Object(a.jsxs)(x.a,{className:e.headerWrapper,children:[Object(a.jsx)("img",{className:e.icon,src:Te,alt:"#"}),Object(a.jsxs)(x.a,{className:e.mainWrapper,children:[Object(a.jsx)("div",{className:e.titlebar,children:Object(a.jsx)("img",{src:Ie,className:e.titleImg})}),Object(a.jsxs)(ae.a,{component:"nav",variant:"dense",className:e.menubar,children:[Object(a.jsx)(de,{menu:l}),c?Object(a.jsx)(Be,{closeFunc:()=>{s(!1)}}):null]})]}),Object(a.jsx)(re.a,{style:{display:"none"},children:Object(a.jsx)(ce.a,{fontSize:"large"})}),Object(a.jsx)(ke,{src:o||"data:image/png;base64,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"})]})})}var De=n(77),We=n(1423),qe=n(1433),Ge=n(475),Ke=n.n(Ge),Qe=n(474),Me=n.n(Qe),Le=n(476),Pe=n.n(Le);const Ve=Object(w.a)((e=>({dialogButton:{width:"128px",fontSize:"18px",textTransform:"none"},dialog:{}})));function Ye(e){const t=Ve(),n=e.func,r=n.updFunc,i=n.closeFunc;return Object(a.jsxs)(je.a,{open:!0,"aria-labelledby":"save-dialog-title",children:[Object(a.jsx)(ue.a,{id:"save-dialog-title",children:"Save File?"}),Object(a.jsxs)(ge.a,{children:[Object(a.jsx)(p.a,{className:t.dialogButton,onClick:r,color:"primary",children:"Yes"}),Object(a.jsx)(p.a,{className:t.dialogButton,onClick:i,color:"primary",children:"No"})]})]})}var Ze=n(468),Xe=n.n(Ze),Je=n(469),ze=n.n(Je),He=n(330),$e=n(1430),_e=n(1422),et=n(470),tt=n.n(et);n(732);var nt=e=>Object(a.jsx)(Xe.a,Object(T.a)({},(e=>Object(T.a)(Object(T.a)({},e),{},{escapeHtml:!1,plugins:[[tt.a,{singleTilde:!1}],ze.a],renderers:Object(T.a)(Object(T.a)({},e.renderers),{},{code:({language:e,value:t})=>t?Object(a.jsx)($e.a,{style:_e.a,language:e,children:t}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(a.Fragment,{children:"~~~"+e}),Object(a.jsx)("br",{}),Object(a.jsx)(a.Fragment,{children:"~~~"})]}),math:({value:e})=>Object(a.jsx)(He.BlockMath,{children:e}),inlineMath:({value:e})=>Object(a.jsx)(He.InlineMath,{children:e})})}))(e)));function at(){const e=Object(k.a)(["\n    mutation updateNote(\n        $id: String!\n        $email: String!\n        $title: String\n        $markdown: String\n        $tags: [String]\n        $links: [String]\n    ) {\n        updateNote(\n            data: {\n                id: $id\n                email: $email\n                title: $title\n                markdown: $markdown\n                tags: $tags\n                links: $links\n            }\n        )\n    }\n"]);return at=function(){return e},e}const rt=N()(at());var it=n(264);const ct=Object(r.createContext)({mode:it.String,setMode:()=>{},open:Boolean,setOpen:()=>{},searchStr:it.String,setSearchStr:()=>{},guide:it.String}),st=Object(w.a)((e=>({root:{display:"flex",flexDirection:"column",flexGrow:1},pageBar:{display:"flex",flexWrap:"wrap",alignItems:"center",listStyle:"none",margin:0,height:24,overflowY:"auto",backgroundColor:"#E0E0E0"},chip:{margin:"0px",borderRadius:"0px",borderRight:"2px solid ".concat(e.palette.divider),borderBottom:"1px solid ".concat(e.palette.divider)},chipRoot:{transform:"none","&:focus":{backgroundColor:"white"},"&:hover":{backgroundColor:e.palette.action.hover}},chipText:{width:e.spacing(12),textAlign:"left",overflow:"hidden",textOverflow:"ellipsis"},chipFocus:{backgroundColor:"white",borderBottom:"1px solid white!important","&:hover":{backgroundColor:"white"}},markdown:{padding:e.spacing(3,0)},mainWindowWrapper:{display:"flex",flexGrow:1,position:"relative"},mainWindow:{display:"flex",width:"50%",borderRadius:"0px",overflow:"auto"},viewWindow:{display:"flex",width:"50%",borderRadius:"0px",overflow:"auto"},modeButtonWrapper:{display:"flex",position:"absolute",top:e.spacing(1),right:e.spacing(2),borderRadius:"16px",border:"1px solid black",backgroundColor:"white"},nopad:{padding:"0px",margin:"0px 3px"},inputStyle:{width:"100%",height:"calc(100vh - 130px)",fontSize:"18px",padding:e.spacing(2,4),resize:"none",border:"none",outline:"none",overflow:"auto"},outputStyle:{width:"100%",height:"calc(100vh - 130px)",fontSize:"18px",textAlign:"left",backgroundColor:"white",padding:e.spacing(2,4),overflow:"auto"}})));function ot(){const e=Object(S.a)(rt),t=Object(d.a)(e,1)[0],n=Object(r.useContext)(G).user.email,c=Object(r.useContext)(ct).guide,s=st(),o=Object(De.a)(),u=Object(r.useContext)(Fe),j=u.usernotes,p=u.openFiles,m=u.currentOpenFile,h=u.actions,O=i.a.useState("main"),x=Object(d.a)(O,2),g=x[0],f=x[1],v=i.a.useState(0),w=Object(d.a)(v,2),y=w[0],C=w[1],k=i.a.useState([]),F=Object(d.a)(k,2),N=F[0],E=F[1],B=i.a.useState(!1),T=Object(d.a)(B,2),I=T[0],R=T[1],U=i.a.useState({}),D=Object(d.a)(U,2),W=D[0],q=D[1];Object(r.useEffect)((()=>{if(p.length>y){let e=p[p.length-1];(e=>{E([...N,e]),C(y+1)})(Object.assign({unsaved:!1},j.find((t=>t.id===e))))}}),[p]);const K=e=>{let t=p.indexOf(e);N[t].unsaved?(R(!0),q({updFunc:function(){var t=Object(A.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P(e);case 2:Q(e),R(!1);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),closeFunc:()=>{Q(e),R(!1)}})):Q(e)},Q=e=>{let t=p.indexOf(e);h.close(e);let n=N.filter(((e,n)=>n!==t));E(n),C(y-1)},L=e=>{f(e)},P=function(){var e=Object(A.a)(l.a.mark((function e(a){var r,i,c,s,o,A,d,u,j,b,m;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=p.indexOf(a),i=N[r],c=i.id,s=i.title,o=i.markdown,A=i.tags,!i.unsaved){e.next=20;break}for(e.prev=3,d=/\[\[(\w*?)\]\]/gm,u=o,b=[];null!==(j=d.exec(u));)j.index===d.lastIndex&&d.lastIndex++,j.forEach(((e,t)=>{1===t&&b.push(e)}));return(m=[...N])[r].links=b,h.save(a,{id:c,title:s,markdown:o,tags:A,links:b}),m[r].unsaved=!1,E(m),e.next=15,t({variables:{id:c,email:n,markdown:o,links:b}});case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(3),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[3,17]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:s.root,children:[Object(a.jsx)(b.a,{}),0===p.length?Object(a.jsx)("div",{className:s.mainWindowWrapper,children:Object(a.jsx)(nt,{className:"input ".concat(s.outputStyle),children:c})}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:s.pageBar,children:[p.map(((e,t)=>Object(a.jsx)("li",{children:Object(a.jsx)(qe.a,{size:"small",label:j.find((t=>t.id===e)).title,disableRipple:!0,onClick:t=>{h.open(e),document.getElementsByClassName("input")[0].focus()},onDelete:()=>K(e),className:Object(se.a)(s.chip,{[s.chipFocus]:e===m}),classes:{root:s.chipRoot,label:s.chipText}})},t))),Object(a.jsx)("div",{style:{flexGrow:1,height:24,borderBottom:"1px solid ".concat(o.palette.divider)}})]}),Object(a.jsxs)("div",{className:s.mainWindowWrapper,children:[Object(a.jsxs)("div",{className:s.modeButtonWrapper,children:[Object(a.jsx)(re.a,{color:"main"===g?"inherit":"default",onClick:()=>L("main"),classes:{root:s.nopad},disableRipple:!0,children:Object(a.jsx)(Me.a,{})}),Object(a.jsx)(We.a,{orientation:"vertical",style:{height:"24px",backgroundColor:"rgb(160, 160, 160)"}}),Object(a.jsx)(re.a,{color:"mix"===g?"inherit":"default",onClick:()=>L("mix"),classes:{root:s.nopad},disableRipple:!0,children:Object(a.jsx)(Ke.a,{})}),y===p.length&&N[p.indexOf(m)].unsaved?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(We.a,{orientation:"vertical",style:{height:"24px",backgroundColor:"rgb(160, 160, 160)"}}),Object(a.jsx)(re.a,{id:"saveMain",onClick:()=>P(m),classes:{root:s.nopad},disableRipple:!0,children:Object(a.jsx)(Pe.a,{})})]}):null,I?Object(a.jsx)(Ye,{func:W}):null]}),"main"===g||"mix"===g?Object(a.jsx)(M.a,{elevation:0,className:s.mainWindow,style:"main"===g?{width:"100%"}:{},children:Object(a.jsx)("textarea",{autoFocus:!0,className:"input ".concat(s.inputStyle),value:y===p.length?N[p.indexOf(m)].markdown:"",onChange:e=>{(e=>{let t=p.indexOf(m),n=[...N];n[t].markdown=e,n[t].unsaved=!0,E(n)})(e.target.value)}})}):Object(a.jsx)(a.Fragment,{}),"mix"===g?Object(a.jsx)(We.a,{orientation:"vertical"}):null,"view"===g||"mix"===g?Object(a.jsx)(M.a,{elevation:0,className:s.viewWindow,style:"view"===g?{width:"100%"}:{},children:Object(a.jsx)(nt,{className:"input ".concat(s.outputStyle),children:y===p.length?N[p.indexOf(m)].markdown:""})}):Object(a.jsx)(a.Fragment,{})]})]})]})}function lt(){const e=Object(k.a)(["\n    query usernotes($email: String!) {\n        usernotes(email: $email) {\n            id\n            tags\n            links\n            markdown\n            title\n        }\n    }\n"]);return lt=function(){return e},e}const At=N()(lt());function dt(){const e=Object(k.a)(["\n    query userAvatar($id: String!) {\n        userAvatar(id: $id)\n    }\n"]);return dt=function(){return e},e}const ut=N()(dt());function jt(){const e=Object(k.a)(["\n    query {\n        user\n    }\n"]);return jt=function(){return e},e}const pt=N()(jt());var bt=n(1432),mt=n(479),ht=n.n(mt),Ot=n(480),xt=n.n(Ot),gt=n(481),ft=n.n(gt),vt=n(1412),wt=n(1371),yt=n(1424),Ct=n(163),St=n.n(Ct),kt=n(133),Ft=n.n(kt);const Nt=Object(w.a)((e=>({titlebar:{flexGrow:1,fontSize:"14px",margin:e.spacing(1),outline:"none",padding:"1px 6px",borderRadius:"12px",borderColor:"".concat(e.palette.divider),"&:focus":{borderColor:e.palette.text.primary}},linksIOTitle:{height:"28px",padding:e.spacing(2,0)}})));function Et(){const e=Nt(),t=Object(r.useContext)(Fe),n=t.usernotes,i=t.actions,c=Object(r.useContext)(ct),s=c.searchStr,o=c.setSearchStr,l=Object(r.useState)([]),A=Object(d.a)(l,2),u=A[0],j=A[1],p=Object(r.useState)([]),m=Object(d.a)(p,2),h=m[0],O=m[1],x=Object(r.useState)([]),g=Object(d.a)(x,2),f=g[0],v=g[1],w=Object(r.useState)(!1),y=Object(d.a)(w,2),C=y[0],S=y[1],k=Object(r.useState)(!1),F=Object(d.a)(k,2),N=F[0],E=F[1],B=()=>{document.getElementsByClassName("input")[0]&&document.getElementsByClassName("input")[0].focus()};return Object(r.useEffect)((()=>{if(s)if("tags:"===s.slice(0,5)){let e=[];n.forEach((t=>{let n=t.title,a=t.id,r=t.markdown;t.tags.forEach((t=>{t===s.slice(6)&&(console.log("success"),e.push({title:n,id:a,markdown:r}))}))})),console.log("search tag"),j(e)}else{let e=[],t=[];n.forEach((n=>{let a=n.title,r=n.id,i=n.markdown;n.title.includes(s)&&e.push({title:a,id:r,markdown:i}),n.markdown.includes(s)&&t.push({title:a,id:r,markdown:i})})),console.log("search files"),O(e),v(t)}else O([]),v([]);return()=>{}}),[s]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(b.a,{}),Object(a.jsx)("div",{style:{display:"flex"},children:Object(a.jsx)("input",{id:"searchbox",className:e.titlebar,placeholder:"Search files or tags",onChange:e=>{o(e.target.value)},value:s})}),Object(a.jsx)(We.a,{style:{height:"3px"}}),Object(a.jsx)("div",{style:{flexGrow:1,overflowY:"auto"},children:Object(a.jsx)(vt.a,{disablePadding:!0,children:"tags:"===s.slice(0,5)?u.map(((e,t)=>Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(wt.a,{button:!0,onClick:()=>{i.open(e.id),B()},children:Object(a.jsx)(yt.a,{primary:e.title})},t),Object(a.jsx)(We.a,{})]}))):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(wt.a,{button:!0,onClick:()=>S(!C),className:e.linksIOTitle,children:[C?Object(a.jsx)(St.a,{}):Object(a.jsx)(Ft.a,{}),Object(a.jsx)(yt.a,{primary:"File"})]},"titleMatched"),Object(a.jsx)(We.a,{}),C?h.map(((e,t)=>Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(wt.a,{button:!0,onClick:()=>{i.open(e.id),B()},children:Object(a.jsx)(yt.a,{primary:e.title})},t),Object(a.jsx)(We.a,{})]}))):null,Object(a.jsxs)(wt.a,{button:!0,onClick:()=>E(!N),className:e.linksIOTitle,children:[N?Object(a.jsx)(St.a,{}):Object(a.jsx)(Ft.a,{}),Object(a.jsx)(yt.a,{primary:"Content"})]},"mdMatched"),Object(a.jsx)(We.a,{}),N?f.map(((e,t)=>Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(wt.a,{button:!0,onClick:()=>{i.open(e.id),B()},children:Object(a.jsx)(yt.a,{primary:e.title})},t),Object(a.jsx)(We.a,{})]}))):null]})})})]})}var Bt=n(1425),Tt=n(260),It=n.n(Tt),Rt=n(1435),Ut=n(477),Dt=n.n(Ut),Wt=n(478),qt=n.n(Wt);const Gt=Object(w.a)((()=>({dialogButton:{width:"256px",fontSize:"18px",textTransform:"none"},dialog:{}})));function Kt(e){Gt();const t=Object(r.useContext)(Fe),n=t.usernotes,c=t.actions,s=i.a.useState(""),o=Object(d.a)(s,2),l=o[0],A=o[1],u=i.a.useState(!0),j=Object(d.a)(u,2),b=j[0],h=j[1],O=i.a.useState(""),x=Object(d.a)(O,2),g=x[0],f=x[1],v=()=>l?-1!==n.findIndex((e=>e.title===l))?(h(!1),void f("name existed!")):(c.rename(e.fileID,l),void e.closeFunc()):(h(!1),void f("empty name!"));return Object(a.jsxs)(je.a,{open:!0,"aria-labelledby":"form-dialog-title_".concat(e.fileID),children:[Object(a.jsx)(ue.a,{id:"form-dialog-title_".concat(e.fileID),children:"New name"}),Object(a.jsx)(Ne.a,{children:Object(a.jsx)(m.a,{autoFocus:!0,error:!b,helperText:b?"":g,margin:"dense",id:"renameBox_".concat(e.fileID),label:"new name",fullWidth:!0,onChange:e=>{return t=e.target.value,A(t),void h(!0);var t},onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),v())}})}),Object(a.jsxs)(ge.a,{children:[Object(a.jsx)(p.a,{onClick:e.closeFunc,color:"primary",children:"Cancel"}),Object(a.jsx)(p.a,{onClick:v,color:"primary",children:"OK"})]})]})}const Qt=Object(w.a)((e=>({dialogButton:{width:"128px",fontSize:"18px",textTransform:"none"},dialog:{}})));function Mt(e){const t=Qt(),n=Object(r.useContext)(Fe).actions;return Object(a.jsxs)(je.a,{open:!0,"aria-labelledby":"delete-dialog-title_".concat(e.fileID),children:[Object(a.jsx)(ue.a,{id:"delete-dialog-title_".concat(e.fileID),children:"Delete ".concat(e.title,"?")}),Object(a.jsxs)(ge.a,{children:[Object(a.jsx)(p.a,{className:t.dialogButton,onClick:()=>{n.delete(e.fileID),e.closeFunc()},color:"primary",children:"Yes"}),Object(a.jsx)(p.a,{className:t.dialogButton,onClick:e.closeFunc,color:"primary",children:"No"})]})]})}const Lt=Object(w.a)((e=>({labelIcon:{marginRight:e.spacing(.5)},labelText:{textAlign:"left",fontSize:"16px",fontWeight:"inherit",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},menuItem:{fontSize:"14px",width:"128px"}})));function Pt(e){const t=Lt(),n=e.node,c=i.a.useState(null),s=Object(d.a)(c,2),o=s[0],l=s[1],A=i.a.useState(!1),u=Object(d.a)(A,2),j=u[0],p=u[1],b=i.a.useState(!1),m=Object(d.a)(b,2),h=m[0],O=m[1],x=Object(r.useContext)(Fe).actions,g=e=>{e.preventDefault(),l(e.currentTarget)};return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{onContextMenu:g,style:{display:"flex",alignItems:"center",position:"relative"},onClick:e=>{0===e.button?(x.open(n.id),document.getElementsByClassName("input")[0]&&document.getElementsByClassName("input")[0].focus()):2===e.button&&g()},children:["dir"===n.type?Object(a.jsx)(Dt.a,{fontSize:"small",className:t.labelIcon}):Object(a.jsx)(qt.a,{fontSize:"small",className:t.labelIcon}),Object(a.jsx)(v.a,{className:t.labelText,children:n.title})]}),"dir"!==n.type?Object(a.jsxs)(oe.a,{id:"name",anchorEl:o,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},keepMounted:!0,open:Boolean(o),onClose:()=>{l(null)},autoFocus:!1,children:[Object(a.jsx)(le.a,{className:t.menuItem,onClick:()=>{p(!0),l(null)},onKeyDown:e=>{"Enter"===e.key&&e.preventDefault()},children:"Rename"}),Object(a.jsx)(le.a,{className:t.menuItem,onClick:()=>{O(!0),l(null)},children:"Delete"})]}):null,j?Object(a.jsx)(Kt,{fileID:n.id,closeFunc:()=>p(!1)}):null,h?Object(a.jsx)(Mt,{fileID:n.id,title:n.title,closeFunc:()=>O(!1)}):null]})}const Vt=Object(w.a)((e=>({root:{height:110,flexGrow:1,maxWidth:400,paddingTop:"6px"},labelIcon:{marginRight:e.spacing(.5)},labelText:{textAlign:"left",fontSize:"16px",fontWeight:"inherit",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},colorWhite1:{"&.Mui-selected > .MuiTreeItem-content .MuiTreeItem-label":{backgroundColor:"white"}}})));function Yt(){const e=Vt(),t=Object(r.useContext)(Fe),n=Object(r.useContext)(G),i=t=>Object(a.jsx)(Rt.a,{nodeId:t.id,label:Object(a.jsx)(Pt,{node:t}),classes:{root:e.colorWhite1},children:Array.isArray(t.usernotes)?t.usernotes.map((e=>i(e))):null},t.id);return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(Bt.a,{className:e.root,defaultCollapseIcon:Object(a.jsx)(Ft.a,{}),defaultExpanded:["root"],defaultExpandIcon:Object(a.jsx)(It.a,{}),children:i(Object(T.a)(Object(T.a)({},t),{},{id:"root",title:n.user.name,type:"dir"}))})})}const Zt=Object(w.a)((e=>({root:{width:32,display:"flex"},sidebarWrapper:{width:32,display:"flex",alignItems:"center",flexDirection:"column",borderRight:"1px solid ".concat(e.palette.divider)},nopad:{padding:"0px",margin:"6px 0px"},rootShift:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginRight:256},drawer:{flexShrink:0},drawerPaperWrapper:{position:"relative"},drawerPaper:{position:"absolute",top:"0px",right:32,width:256,bottom:"0px"}})));function Xt(){const e=Zt(),t=Object(r.useContext)(ct),n=t.open,i=t.setOpen,c=t.mode,s=t.setMode,o=Object(r.useState)(!1),l=Object(d.a)(o,2),A=l[0],u=l[1],j=e=>{s(e),n||i(!0),n&&e===c&&i(!1)};return Object(a.jsxs)("div",{className:Object(se.a)(e.root,{[e.rootShift]:n}),children:[Object(a.jsx)(b.a,{}),Object(a.jsxs)("div",{className:e.sidebarWrapper,children:[Object(a.jsx)(re.a,{color:"search"===c&&n?"inherit":"default","aria-label":"open drawer",onClick:()=>j("search"),classes:{root:e.nopad},disableRipple:!0,children:Object(a.jsx)(ht.a,{})}),Object(a.jsx)(re.a,{color:"file"===c&&n?"inherit":"default","aria-label":"open drawer",onClick:()=>j("file"),classes:{root:e.nopad},disableRipple:!0,children:Object(a.jsx)(xt.a,{})}),Object(a.jsx)(re.a,{color:A?"inherit":"default","aria-label":"open drawer",onClick:()=>{u(!A)},classes:{root:e.nopad},style:{display:"none"},disableRipple:!0,children:Object(a.jsx)(ft.a,{})})]}),Object(a.jsx)(bt.a,{className:e.drawer,variant:"persistent",anchor:"left",open:n,classes:{paper:e.drawerPaper,docked:e.drawerPaperWrapper},children:"search"===c?Object(a.jsx)(Et,{}):Object(a.jsx)(Yt,{})})]})}var Jt=n(482),zt=n.n(Jt),Ht=n(483),$t=n.n(Ht),_t=n(484),en=n.n(_t);const tn=Object(w.a)((e=>({root:{width:32,display:"flex"},sidebarWrapper:{width:32,display:"flex",alignItems:"center",flexDirection:"column",borderLeft:"1px solid ".concat(e.palette.divider)},nopad:{padding:"0px",margin:"6px 0px"},rootShift:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:256},drawer:{flexShrink:0},drawerPaperWrapper:{position:"relative"},drawerPaper:{position:"absolute",top:"0px",right:32,width:256,bottom:"0px"},drawerButton:{width:"36px",padding:"0px",margin:"6px 0px 6px 6px"},linksIOTitle:{height:"28px",padding:e.spacing(2,0)}})));function nn(){const e=tn(),t=Object(r.useContext)(Fe),n=t.currentOpenFile,i=t.usernotes,c=t.actions,s=Object(r.useContext)(ct),o=s.setSearchStr,l=s.setOpen,A=s.setMode,u=Object(r.useState)(!1),j=Object(d.a)(u,2),p=j[0],m=j[1],h=Object(r.useState)("link"),O=Object(d.a)(h,2),x=O[0],g=O[1],f=Object(r.useState)([]),v=Object(d.a)(f,2),w=v[0],y=v[1],C=Object(r.useState)([]),S=Object(d.a)(C,2),k=S[0],F=S[1],N=Object(r.useState)(!1),E=Object(d.a)(N,2),B=E[0],T=E[1],I=Object(r.useState)(!1),R=Object(d.a)(I,2),U=R[0],D=R[1];Object(r.useEffect)((()=>{try{if(n){let e=i.find((e=>e.id===n)).title,t={},a={},r=i.find((e=>e.id===n)).links;i.forEach((n=>{n.links.forEach((a=>{a===e&&(Object.keys(t).includes(n.title)||(t[n.title]=n.id))}))})),y(Object.entries(t)),i.forEach((e=>{r.includes(e.title)&&(a[e.title]=e.id)})),F(Object.entries(a))}}catch(e){console.log(e)}return()=>{}}),[i,n]);const W=Object(r.useState)([]),q=Object(d.a)(W,2),G=q[0],K=q[1];Object(r.useEffect)((()=>{let e={};return i.forEach((t=>{t.tags.forEach((t=>{Object.keys(e).includes(t)?e[t]+=1:e[t]=1}))})),K(Object.entries(e)),()=>{}}),[i]);const Q=Object(r.useState)([]),M=Object(d.a)(Q,2),L=(M[0],M[1]);Object(r.useEffect)((()=>(L("link"===x?w:G),()=>{})),[x,w,k,G]);const P=e=>{g(e)},V=e=>{c.open(e),document.getElementsByClassName("input")[0]&&document.getElementsByClassName("input")[0].focus()};return Object(a.jsxs)("div",{className:Object(se.a)(e.root,{[e.rootShift]:p}),children:[Object(a.jsx)(b.a,{}),Object(a.jsx)("div",{className:e.sidebarWrapper,children:Object(a.jsx)(re.a,{color:"default","aria-label":"open drawer",onClick:()=>{m(!p)},classes:{root:e.nopad},disableRipple:!0,children:p?Object(a.jsx)(It.a,{}):Object(a.jsx)(zt.a,{})})}),Object(a.jsxs)(bt.a,{className:e.drawer,variant:"persistent",anchor:"right",open:p,classes:{paper:e.drawerPaper,docked:e.drawerPaperWrapper},children:[Object(a.jsxs)("div",{style:{display:"flex"},children:[Object(a.jsx)(re.a,{color:"link"===x?"inherit":"default",onClick:()=>P("link"),classes:{root:e.drawerButton},disableRipple:!0,children:Object(a.jsx)($t.a,{})}),Object(a.jsx)(re.a,{color:"tag"===x?"inherit":"default",onClick:()=>P("tag"),classes:{root:e.drawerButton},disableRipple:!0,children:Object(a.jsx)(en.a,{})})]}),Object(a.jsx)(We.a,{style:{height:"3px"}}),Object(a.jsx)("div",{style:{flexGrow:1,overflowY:"auto"},children:Object(a.jsx)(vt.a,{disablePadding:!0,children:"tag"===x?G.map(((e,t)=>Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(wt.a,{button:!0,onClick:()=>{var t;t=e[0],o("tags: "+t),l(!0),A("search")},children:[Object(a.jsx)(yt.a,{primary:"# "+e[0]}),Object(a.jsx)(yt.a,{primary:e[1],style:{textAlign:"right"}})]},t),Object(a.jsx)(We.a,{})]}))):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(wt.a,{button:!0,onClick:()=>T(!B),className:e.linksIOTitle,children:[B?Object(a.jsx)(St.a,{}):Object(a.jsx)(Ft.a,{}),Object(a.jsx)(yt.a,{primary:"Linked from..."})]},"inLinks"),Object(a.jsx)(We.a,{}),B?w.map(((e,t)=>Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(wt.a,{button:!0,onClick:()=>{V(e[1])},children:Object(a.jsx)(yt.a,{primary:e[0]})},t),Object(a.jsx)(We.a,{})]}))):null,Object(a.jsxs)(wt.a,{button:!0,onClick:()=>D(!U),className:e.linksIOTitle,children:[U?Object(a.jsx)(St.a,{}):Object(a.jsx)(Ft.a,{}),Object(a.jsx)(yt.a,{primary:"Link to..."})]},"outLinks"),Object(a.jsx)(We.a,{}),U?k.map(((e,t)=>Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(wt.a,{button:!0,onClick:()=>{V(e[1])},children:Object(a.jsx)(yt.a,{primary:e[0]})},t),Object(a.jsx)(We.a,{})]}))):null]})})})]})]})}var an=n(1437),rn=n(1429);function cn(){const e=Object(k.a)(["\n    mutation addtag($id: String!, $email: String!, $tag: String!) {\n        addtag(id: $id, email: $email, tag: $tag)\n    }\n"]);return cn=function(){return e},e}const sn=N()(cn());function on(){const e=Object(k.a)(["\n    mutation deletetag($id: String!, $email: String!, $index: Int!) {\n        deletetag(id: $id, email: $email, index: $index)\n    }\n"]);return on=function(){return e},e}const ln=N()(on()),An=Object(w.a)((e=>({root:{display:"flex",flexWrap:"wrap",alignItems:"center",listStyle:"none",margin:0,height:"32px",overflowY:"auto"},chip:{margin:e.spacing(.5)},titlebar:{flexGrow:1,fontSize:"14px",margin:e.spacing(.5),outline:"none",padding:"1px 6px",borderRadius:"12px",borderColor:"".concat(e.palette.divider),"&:focus":{borderColor:e.palette.text.primary}},alert:{width:"256px"}})));function dn(){const e=An(),t=Object(r.useContext)(Fe),n=t.currentOpenFile,c=t.usernotes,s=t.setuserNotes,o=Object(r.useState)(null),u=Object(d.a)(o,2),j=u[0],p=u[1];i.a.useEffect((()=>{j&&setTimeout((function(){p(null)}),1300)}),[j]);const m=Boolean(j),h=m?"simple-popover":void 0,O=Object(r.useContext)(G),x=Object(S.a)(sn),g=Object(d.a)(x,1)[0],f=Object(S.a)(ln),v=Object(d.a)(f,1)[0],w=Object(r.useState)(""),y=Object(d.a)(w,2),C=y[0],k=y[1],F=Object(r.useState)([]),N=Object(d.a)(F,2),E=N[0],B=N[1];Object(r.useEffect)((()=>(n&&c&&B(c.find((e=>e.id===n)).tags),()=>{})),[n,c]);const T=function(){var e=Object(A.a)(l.a.mark((function e(t){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=E.filter(((e,n)=>n!==t)),B(a),(r=[...c]).find((e=>e.id===n)).tags.splice(t,1),s(r),e.next=8,v({variables:{id:n,email:O.user.email,index:t}});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(A.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"!==t.key||""===t.target.value||!n){e.next=18;break}if(e.prev=1,!E.includes(C)){e.next=5;break}return p(document.body),e.abrupt("return");case 5:return(a=[...c]).find((e=>e.id===n)).tags.push(C),s(a),B([...E,C]),e.next=11,g({variables:{id:n,email:O.user.email,tag:C}});case 11:k(""),t.target.value="",e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(b.a,{}),Object(a.jsxs)("div",{className:e.root,children:[E.map(((t,n)=>Object(a.jsx)("li",{children:Object(a.jsx)(qe.a,{size:"small",label:t,onDelete:()=>T(n),className:e.chip})},n))),Object(a.jsx)("input",{id:"taginput",className:e.titlebar,placeholder:"New tags",onChange:e=>{k(e.target.value)},onKeyDown:I}),Object(a.jsx)(an.a,{id:h,open:m,anchorEl:j,onClose:()=>{p(null)},anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(a.jsx)(rn.a,{className:e.alert,severity:"warning",children:"Tag Already Exists!"})})]})]})}function un(){const e=Object(k.a)(["\n    mutation createNote(\n        $email: String!\n        $title: String!\n        $markdown: String!\n        $tags: [String]!\n        $links: [String]!\n    ) {\n        createNote(\n            data: {\n                email: $email\n                title: $title\n                markdown: $markdown\n                tags: $tags\n                links: $links\n            }\n        ) {\n            id\n            tags\n            title\n            markdown\n            links\n        }\n    }\n"]);return un=function(){return e},e}const jn=N()(un());function pn(){const e=Object(k.a)(["\n    mutation deleteNote($id: String!, $email: String!) {\n        deleteNote(id: $id, email: $email)\n    }\n"]);return pn=function(){return e},e}const bn=N()(pn());function mn(e,t){let n=[],a="";switch(t.type){case"SET":return t.updData;case"NEW":return{usernotes:[...e.usernotes,t.data],openFiles:[...e.openFiles,t.id],currentOpenFile:t.id};case"OPEN":return"root"===t.id?e:e.openFiles.includes(t.id)?Object(T.a)(Object(T.a)({},e),{},{currentOpenFile:t.id}):Object(T.a)(Object(T.a)({},e),{},{openFiles:[...e.openFiles,t.id],currentOpenFile:t.id});case"RENAME":return Object(T.a)(Object(T.a)({},e),{},{usernotes:t.data});case"DELETE":if(a=e.currentOpenFile,n=e.openFiles.filter((e=>e!==t.id)),t.id===e.currentOpenFile){let t=e.openFiles.indexOf(e.currentOpenFile);a=t>0?e.openFiles[t-1]:0===t&&e.openFiles.length>1?e.openFiles[1]:""}return Object(T.a)(Object(T.a)({},e),{},{usernotes:t.data,openFiles:n,currentOpenFile:a});case"CLOSE":if(a=e.currentOpenFile,n=e.openFiles.filter((e=>e!==t.id)),t.id===e.currentOpenFile){let t=e.openFiles.indexOf(e.currentOpenFile);a=t>0?e.openFiles[t-1]:0===t&&e.openFiles.length>1?e.openFiles[1]:""}return Object(T.a)(Object(T.a)({},e),{},{openFiles:n,currentOpenFile:a});default:return e}}var hn=n(485),On=n.n(hn);var xn=({type:e,color:t})=>Object(a.jsx)(On.a,{type:e,color:t,height:180,width:180});const gn=Object(w.a)((e=>({mainGrid:{marginTop:e.spacing(3)},pageContainer:{width:"100vw",height:"100vh",display:"flex",flexDirection:"column"}})));function fn(){const e=gn(),t=Object(r.useContext)(G).user,n=t.email,c=t.userId,s=Object(r.useState)("search"),o=Object(d.a)(s,2),u=o[0],j=o[1],p=Object(r.useState)(!1),m=Object(d.a)(p,2),h=m[0],O=m[1],x=Object(r.useState)(""),g=Object(d.a)(x,2),f=g[0],v=g[1],w=Object(S.b)(At,{variables:{email:n}}),y=w.loading,C=w.error,k=w.data,F=Object(S.b)(ut,{variables:{id:c}}),N=F.loading,E=F.error,B=F.data,I=Object(r.useState)(""),R=Object(d.a)(I,2),U=R[0],D=R[1];Object(r.useEffect)((()=>(N||E||D(B.userAvatar),()=>{})),[N]);const W=Object(S.b)(pt),q=W.loading,K=W.error,Q=W.data,M=Object(r.useState)(""),L=Object(d.a)(M,2),P=L[0],V=L[1];Object(r.useEffect)((()=>(q||K||V(Q.user),()=>{})),[q]);const Y=function(e){const t=Object(r.useReducer)(mn,e),n=Object(d.a)(t,2),a=n[0],i=n[1],c=Object(S.a)(jn),s=Object(d.a)(c,1)[0],o=Object(S.a)(bn),u=Object(d.a)(o,1)[0],j=Object(S.a)(rt),p=Object(d.a)(j,1)[0],b=Object(r.useContext)(G).user.email;function m(e){i({type:"SET",updData:Object(T.a)(Object(T.a)({},a),{},{usernotes:e})})}function h(){return(h=Object(A.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s({variables:{email:b,title:t,markdown:"",tags:[],links:[]}});case 3:n=e.sent,i({type:"NEW",id:n.data.createNote.id,data:n.data.createNote}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function O(){return(O=Object(A.a)(l.a.mark((function e(t,n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(r=[...a.usernotes]).find((e=>e.id===t)).title=n,i({type:"RENAME",id:t,data:r}),e.next=6,p({variables:{id:t,email:b,title:n}});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function x(){return(x=Object(A.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=[...a.usernotes],r=n.findIndex((e=>e.id===t)),n.splice(r,1),console.log(t),console.log(n),i({type:"DELETE",id:t,data:n}),e.next=9,u({variables:{id:t,email:b}});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}return{usernotes:a.usernotes,openFiles:a.openFiles,currentOpenFile:a.currentOpenFile,setuserNotes:m,setopenFiles:function(e){i({type:"SET",updData:Object(T.a)(Object(T.a)({},a),{},{openFiles:e})})},setcurrentOpenFile:function(e){i({type:"SET",updData:Object(T.a)(Object(T.a)({},a),{},{currentOpenFile:e})})},actions:{new:function(e){return h.apply(this,arguments)},open:function(e){i({type:"OPEN",id:e})},save:function(e,t){let n=[...a.usernotes],r=n.findIndex((t=>t.id===e));n[r]=t,m(n)},close:function(e){i({type:"CLOSE",id:e})},rename:function(e,t){return O.apply(this,arguments)},delete:function(e){return x.apply(this,arguments)}}}}({usernotes:[],openFiles:[],currentOpenFile:""}),X=Y.usernotes,J=Y.openFiles,z=Y.currentOpenFile,H=Y.setcurrentOpenFile,$=Y.setuserNotes,_=Y.setopenFiles,ee=Y.actions;return Object(r.useEffect)((()=>{y||C||$(k.usernotes)}),[y,k,C]),y||N||q?Object(a.jsx)("div",{backgroundColor:"blue",style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(a.jsx)(xn,{type:"spinningBubbles",color:"ffffff"})}):Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsx)(b.a,{}),Object(a.jsx)(Z.a,{maxWidth:!1,disableGutters:!0,className:e.pageContainer,children:Object(a.jsxs)(Fe.Provider,{value:{usernotes:X,openFiles:J,currentOpenFile:z,setcurrentOpenFile:H,setuserNotes:$,setopenFiles:_,actions:ee},children:[Object(a.jsx)(fe.Provider,{value:{avatar:U,setAvatar:D},children:Object(a.jsx)(Ue,{})}),Object(a.jsx)(ct.Provider,{value:{mode:u,setMode:j,open:h,setOpen:O,searchStr:f,setSearchStr:v,guide:P},children:Object(a.jsxs)("main",{style:{display:"flex",flexGrow:1,width:"100vw",alignItems:"stretch"},children:[Object(a.jsx)(Xt,{}),Object(a.jsx)("div",{style:{display:"flex",flex:"1 1 0",minWidth:"0px",overflowY:"hidden"},children:Object(a.jsxs)("div",{style:{display:"flex",flexGrow:1,maxWidth:"100%",minWidth:"0px",flexDirection:"column",alignItems:"stretch"},children:[Object(a.jsx)(ot,{}),Object(a.jsx)(dn,{})]})}),Object(a.jsx)(nn,{})]})})]})})]})}var vn=function(){return Object(a.jsxs)(u.d,{children:[Object(a.jsx)(te,{exact:!0,path:"/",component:Y}),Object(a.jsx)(te,{exact:!0,path:"/login",component:Y}),Object(a.jsx)(te,{exact:!0,path:"/signup",component:_}),Object(a.jsx)(ne,{exact:!0,path:"/dashboard",component:fn})]})};var wn=function(){const e=Object(r.useState)(!0),t=Object(d.a)(e,2),n=t[0],i=t[1],c=Object(r.useContext)(G);return Object(r.useEffect)((()=>{fetch("/refresh_token",{method:"POST",credentials:"include"}).then(function(){var e=Object(A.a)(l.a.mark((function e(t){var n,a,r,s,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:(n=e.sent).accessToken?(D(n.accessToken),a=R()(n.accessToken),r=a.userId,s=a.name,o=a.email,c.user||c.login({userId:r,name:s,email:o,accessToken:n.accessToken})):console.log("no access Token, Please login"),i(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(a.jsx)("div",{className:"App",children:Object(a.jsx)(h.a,{children:n?Object(a.jsx)("div",{backgroundColor:"blue",style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(a.jsx)(xn,{type:"spinningBubbles",color:"ffffff"})}):Object(a.jsx)(vn,{})})})};var yn=e=>{e&&e instanceof Function&&n.e(3).then(n.bind(null,1438)).then((({getCLS:t,getFID:n,getFCP:a,getLCP:r,getTTFB:i})=>{t(e),n(e),a(e),r(e),i(e)}))},Cn=n(164),Sn=n(1431),kn=n(66),Fn=n(78),Nn=n(57),En=n(487),Bn=n(1426),Tn=n.n(Bn),In=n(489);const Rn=Tn()({uri:"/graphql",credentials:"include"}),Un=new Fn.a(((e,t)=>new Nn.a((n=>{let a;return Promise.resolve(e).then((e=>{const t=W();t&&e.setContext({headers:{authorization:"bearer ".concat(t)}})})).then((()=>{a=t(e).subscribe({next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)})})).catch(n.error.bind(n)),()=>{a&&a.unsubscribe()}})))),Dn=new In.a({accessTokenField:"accessToken",isTokenValidOrUndefined:()=>{const e=W();if(!e)return!0;try{const t=R()(e).exp;return!(Date.now()>=1e3*t)}catch(t){return!1}},fetchAccessToken:()=>fetch("/refresh_token",{method:"POST",credentials:"include"}),handleFetch:e=>{console.log(e),D(e)},handleError:e=>{console.warn("Your refresh token is invalid. Try to relogin"),console.error(e)}}),Wn=Object(En.a)((({graphQLErrors:e,networkError:t,errorMessage:n})=>{console.log(e),console.log(t)})),qn=new Cn.a({link:Fn.a.from([Dn,Wn,Un,Rn]),cache:(new Sn.a).restore({})}),Gn=Object(a.jsx)(kn.a,{client:qn,children:Object(a.jsx)(Q,{children:Object(a.jsx)(wn,{})})});s.a.render(Gn,document.getElementById("root")),yn()},516:function(e,t,n){},518:function(e,t,n){}},[[1367,1,2]]]);
//# sourceMappingURL=main.670edbad.chunk.js.map